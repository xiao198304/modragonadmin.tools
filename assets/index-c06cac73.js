import{r as Et,c as Ne,g as zt,a as Gr,s as bs}from"./index-e36c2735.js";import{t as Ms,b as xs,i as Es}from"./index-8696bd3a.js";var Qr={},oe={};Object.defineProperty(oe,"__esModule",{value:!0});var xi=oe.getLocalStorage=Ni=oe.getLocalStorageOrThrow=Oi=oe.getCrypto=Bi=oe.getCryptoOrThrow=Ai=oe.getLocation=Ti=oe.getLocationOrThrow=Ii=oe.getNavigator=Ri=oe.getNavigatorOrThrow=ki=oe.getDocument=Ci=oe.getDocumentOrThrow=Si=oe.getFromWindowOrThrow=Ei=oe.getFromWindow=void 0;function et(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var Ei=oe.getFromWindow=et;function ft(t){const e=et(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var Si=oe.getFromWindowOrThrow=ft;function Ss(){return ft("document")}var Ci=oe.getDocumentOrThrow=Ss;function Cs(){return et("document")}var ki=oe.getDocument=Cs;function ks(){return ft("navigator")}var Ri=oe.getNavigatorOrThrow=ks;function Rs(){return et("navigator")}var Ii=oe.getNavigator=Rs;function Is(){return ft("location")}var Ti=oe.getLocationOrThrow=Is;function Ts(){return et("location")}var Ai=oe.getLocation=Ts;function As(){return ft("crypto")}var Bi=oe.getCryptoOrThrow=As;function Bs(){return et("crypto")}var Oi=oe.getCrypto=Bs;function Os(){return ft("localStorage")}var Ni=oe.getLocalStorageOrThrow=Os;function Ns(){return et("localStorage")}xi=oe.getLocalStorage=Ns;Object.defineProperty(Qr,"__esModule",{value:!0});var Li=Qr.getWindowMetadata=void 0;const Pn=oe;function Ls(){let t,e;try{t=Pn.getDocumentOrThrow(),e=Pn.getLocationOrThrow()}catch{return null}function r(){const T=t.getElementsByTagName("link"),O=[];for(let U=0;U<T.length;U++){const L=T[U],F=L.getAttribute("rel");if(F&&F.toLowerCase().indexOf("icon")>-1){const E=L.getAttribute("href");if(E)if(E.toLowerCase().indexOf("https:")===-1&&E.toLowerCase().indexOf("http:")===-1&&E.indexOf("//")!==0){let k=e.protocol+"//"+e.host;if(E.indexOf("/")===0)k+=E;else{const A=e.pathname.split("/");A.pop();const R=A.join("/");k+=R+"/"+E}O.push(k)}else if(E.indexOf("//")===0){const k=e.protocol+E;O.push(k)}else O.push(E)}}return O}function n(...T){const O=t.getElementsByTagName("meta");for(let U=0;U<O.length;U++){const L=O[U],F=["itemprop","property","name"].map(E=>L.getAttribute(E)).filter(E=>E?T.includes(E):!1);if(F.length&&F){const E=L.getAttribute("content");if(E)return E}}return""}function s(){let T=n("name","og:site_name","og:title","twitter:title");return T||(T=t.title),T}function i(){return n("description","og:description","twitter:description","keywords")}const f=s(),h=i(),_=e.origin,x=r();return{description:h,url:_,icons:x,name:f}}Li=Qr.getWindowMetadata=Ls;var Us=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],f=0,h=i.length;f<h;f++,s++)n[s]=i[f];return n},Ps=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Fs=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),qs=function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t}(),Ds=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Hs=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),$s=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Ws=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Fn=3,zs=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",$s]],qn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function js(t){return t?Dn(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Hs:typeof navigator<"u"?Dn(navigator.userAgent):Ks()}function Vs(t){return t!==""&&zs.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function Dn(t){var e=Vs(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Ds;var s=n[1]&&n[1].split(/[._]/).slice(0,3);s?s.length<Fn&&(s=Us(s,Ys(Fn-s.length))):s=[];var i=s.join("."),f=Js(t),h=Ws.exec(t);return h&&h[1]?new qs(r,i,f,h[1]):new Ps(r,i,f)}function Js(t){for(var e=0,r=qn.length;e<r;e++){var n=qn[e],s=n[0],i=n[1],f=i.exec(t);if(f)return s}return null}function Ks(){var t=typeof process<"u"&&process.version;return t?new Fs(process.version.slice(1)):null}function Ys(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function jt(t){return js(t)}function Vt(){const t=jt();return t&&t.os?t.os:void 0}function Ui(){const t=Vt();return t?t.toLowerCase().includes("android"):!1}function Pi(){const t=Vt();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function Fi(){return Vt()?Ui()||Pi():!1}function qi(){const t=jt();return t&&t.name?t.name.toLowerCase()==="node":!1}function Di(){return!qi()&&!!$i()}const Hi=Ei,Gs=Si,Qs=Ci,Xs=ki,Zs=Ri,$i=Ii,ea=Ti,Wi=Ai,ta=Bi,ra=Oi,na=Ni,Jt=xi;function Nr(){return Li()}function ia(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function oa(t){return typeof t=="string"?t:JSON.stringify(t)}const zi=ia,ji=oa;function Xr(t,e){const r=ji(e),n=Jt();n&&n.setItem(t,r)}function Zr(t){let e=null,r=null;const n=Jt();return n&&(r=n.getItem(t)),e=r&&zi(r),e}function en(t){const e=Jt();e&&e.removeItem(t)}const Ut="WALLETCONNECT_DEEPLINK_CHOICE";function sa(t,e){const r=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${r}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function aa(t){const e=t.href.split("?")[0];Xr(Ut,Object.assign(Object.assign({},t),{href:e}))}function Vi(t,e){return t.filter(r=>r.name.toLowerCase().includes(e.toLowerCase()))[0]}function ua(t,e){let r=t;return e&&(r=e.map(n=>Vi(t,n)).filter(Boolean)),r}const Ji="https://registry.walletconnect.com";function la(){return Ji+"/api/v2/wallets"}function ca(){return Ji+"/api/v2/dapps"}function Ki(t,e="mobile"){var r;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(r=t.image_url.sm)!==null&&r!==void 0?r:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function ha(t,e="mobile"){return Object.values(t).filter(r=>!!r[e].universal||!!r[e].native).map(r=>Ki(r,e))}const fa=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:jt,detectOS:Vt,formatIOSMobile:sa,formatMobileRegistry:ha,formatMobileRegistryEntry:Ki,getClientMeta:Nr,getCrypto:ra,getCryptoOrThrow:ta,getDappRegistryUrl:ca,getDocument:Xs,getDocumentOrThrow:Qs,getFromWindow:Hi,getFromWindowOrThrow:Gs,getLocal:Zr,getLocalStorage:Jt,getLocalStorageOrThrow:na,getLocation:Wi,getLocationOrThrow:ea,getMobileLinkRegistry:ua,getMobileRegistryEntry:Vi,getNavigator:$i,getNavigatorOrThrow:Zs,getWalletRegistryUrl:la,isAndroid:Ui,isBrowser:Di,isIOS:Pi,isMobile:Fi,isNode:qi,mobileLinkChoiceKey:Ut,removeLocal:en,safeJsonParse:zi,safeJsonStringify:ji,saveMobileLinkInfo:aa,setLocal:Xr},Symbol.toStringTag,{value:"Module"})),da=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],tn=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],pa={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var rn={exports:{}};rn.exports;(function(t){(function(e,r){function n(M,o){if(!M)throw new Error(o||"Assertion failed")}function s(M,o){M.super_=o;var c=function(){};c.prototype=o.prototype,M.prototype=new c,M.prototype.constructor=M}function i(M,o,c){if(i.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((o==="le"||o==="be")&&(c=o,o=10),this._init(M||0,o||10,c||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var f;try{f=Et.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,c){return o.cmp(c)>0?o:c},i.min=function(o,c){return o.cmp(c)<0?o:c},i.prototype._init=function(o,c,d){if(typeof o=="number")return this._initNumber(o,c,d);if(typeof o=="object")return this._initArray(o,c,d);c==="hex"&&(c=16),n(c===(c|0)&&c>=2&&c<=36),o=o.toString().replace(/\s+/g,"");var p=0;o[0]==="-"&&p++,c===16?this._parseHex(o,p):this._parseBase(o,c,p),o[0]==="-"&&(this.negative=1),this.strip(),d==="le"&&this._initArray(this.toArray(),c,d)},i.prototype._initNumber=function(o,c,d){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),c,d)},i.prototype._initArray=function(o,c,d){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var w,S,I=0;if(d==="be")for(p=o.length-1,w=0;p>=0;p-=3)S=o[p]|o[p-1]<<8|o[p-2]<<16,this.words[w]|=S<<I&67108863,this.words[w+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);else if(d==="le")for(p=0,w=0;p<o.length;p+=3)S=o[p]|o[p+1]<<8|o[p+2]<<16,this.words[w]|=S<<I&67108863,this.words[w+1]=S>>>26-I&67108863,I+=24,I>=26&&(I-=26,w++);return this.strip()};function h(M,o,c){for(var d=0,p=Math.min(M.length,c),w=o;w<p;w++){var S=M.charCodeAt(w)-48;d<<=4,S>=49&&S<=54?d|=S-49+10:S>=17&&S<=22?d|=S-17+10:d|=S&15}return d}i.prototype._parseHex=function(o,c){this.length=Math.ceil((o.length-c)/6),this.words=new Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var p,w,S=0;for(d=o.length-6,p=0;d>=c;d-=6)w=h(o,d,d+6),this.words[p]|=w<<S&67108863,this.words[p+1]|=w>>>26-S&4194303,S+=24,S>=26&&(S-=26,p++);d+6!==c&&(w=h(o,c,d+6),this.words[p]|=w<<S&67108863,this.words[p+1]|=w>>>26-S&4194303),this.strip()};function _(M,o,c,d){for(var p=0,w=Math.min(M.length,c),S=o;S<w;S++){var I=M.charCodeAt(S)-48;p*=d,I>=49?p+=I-49+10:I>=17?p+=I-17+10:p+=I}return p}i.prototype._parseBase=function(o,c,d){this.words=[0],this.length=1;for(var p=0,w=1;w<=67108863;w*=c)p++;p--,w=w/c|0;for(var S=o.length-d,I=S%p,m=Math.min(S,S-I)+d,a=0,v=d;v<m;v+=p)a=_(o,v,v+p,c),this.imuln(w),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(I!==0){var q=1;for(a=_(o,v,o.length,c),v=0;v<I;v++)q*=c;this.imuln(q),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},i.prototype.copy=function(o){o.words=new Array(this.length);for(var c=0;c<this.length;c++)o.words[c]=this.words[c];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,c){o=o||10,c=c|0||1;var d;if(o===16||o==="hex"){d="";for(var p=0,w=0,S=0;S<this.length;S++){var I=this.words[S],m=((I<<p|w)&16777215).toString(16);w=I>>>24-p&16777215,w!==0||S!==this.length-1?d=x[6-m.length]+m+d:d=m+d,p+=2,p>=26&&(p-=26,S--)}for(w!==0&&(d=w.toString(16)+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(o===(o|0)&&o>=2&&o<=36){var a=b[o],v=T[o];d="";var q=this.clone();for(q.negative=0;!q.isZero();){var D=q.modn(v).toString(o);q=q.idivn(v),q.isZero()?d=D+d:d=x[a-D.length]+D+d}for(this.isZero()&&(d="0"+d);d.length%c!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,c){return n(typeof f<"u"),this.toArrayLike(f,o,c)},i.prototype.toArray=function(o,c){return this.toArrayLike(Array,o,c)},i.prototype.toArrayLike=function(o,c,d){var p=this.byteLength(),w=d||Math.max(1,p);n(p<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0"),this.strip();var S=c==="le",I=new o(w),m,a,v=this.clone();if(S){for(a=0;!v.isZero();a++)m=v.andln(255),v.iushrn(8),I[a]=m;for(;a<w;a++)I[a]=0}else{for(a=0;a<w-p;a++)I[a]=0;for(a=0;!v.isZero();a++)m=v.andln(255),v.iushrn(8),I[w-a-1]=m}return I},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var c=o,d=0;return c>=4096&&(d+=13,c>>>=13),c>=64&&(d+=7,c>>>=7),c>=8&&(d+=4,c>>>=4),c>=2&&(d+=2,c>>>=2),d+c},i.prototype._zeroBits=function(o){if(o===0)return 26;var c=o,d=0;return c&8191||(d+=13,c>>>=13),c&127||(d+=7,c>>>=7),c&15||(d+=4,c>>>=4),c&3||(d+=2,c>>>=2),c&1||d++,d},i.prototype.bitLength=function(){var o=this.words[this.length-1],c=this._countBits(o);return(this.length-1)*26+c};function O(M){for(var o=new Array(M.bitLength()),c=0;c<o.length;c++){var d=c/26|0,p=c%26;o[c]=(M.words[d]&1<<p)>>>p}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,c=0;c<this.length;c++){var d=this._zeroBits(this.words[c]);if(o+=d,d!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var c=0;c<o.length;c++)this.words[c]=this.words[c]|o.words[c];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var c;this.length>o.length?c=o:c=this;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]&o.words[d];return this.length=c.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var c,d;this.length>o.length?(c=this,d=o):(c=o,d=this);for(var p=0;p<d.length;p++)this.words[p]=c.words[p]^d.words[p];if(this!==c)for(;p<c.length;p++)this.words[p]=c.words[p];return this.length=c.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var c=Math.ceil(o/26)|0,d=o%26;this._expand(c),d>0&&c--;for(var p=0;p<c;p++)this.words[p]=~this.words[p]&67108863;return d>0&&(this.words[p]=~this.words[p]&67108863>>26-d),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,c){n(typeof o=="number"&&o>=0);var d=o/26|0,p=o%26;return this._expand(d+1),c?this.words[d]=this.words[d]|1<<p:this.words[d]=this.words[d]&~(1<<p),this.strip()},i.prototype.iadd=function(o){var c;if(this.negative!==0&&o.negative===0)return this.negative=0,c=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,c=this.isub(o),o.negative=1,c._normSign();var d,p;this.length>o.length?(d=this,p=o):(d=o,p=this);for(var w=0,S=0;S<p.length;S++)c=(d.words[S]|0)+(p.words[S]|0)+w,this.words[S]=c&67108863,w=c>>>26;for(;w!==0&&S<d.length;S++)c=(d.words[S]|0)+w,this.words[S]=c&67108863,w=c>>>26;if(this.length=d.length,w!==0)this.words[this.length]=w,this.length++;else if(d!==this)for(;S<d.length;S++)this.words[S]=d.words[S];return this},i.prototype.add=function(o){var c;return o.negative!==0&&this.negative===0?(o.negative=0,c=this.sub(o),o.negative^=1,c):o.negative===0&&this.negative!==0?(this.negative=0,c=o.sub(this),this.negative=1,c):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var c=this.iadd(o);return o.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var d=this.cmp(o);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,w;d>0?(p=this,w=o):(p=o,w=this);for(var S=0,I=0;I<w.length;I++)c=(p.words[I]|0)-(w.words[I]|0)+S,S=c>>26,this.words[I]=c&67108863;for(;S!==0&&I<p.length;I++)c=(p.words[I]|0)+S,S=c>>26,this.words[I]=c&67108863;if(S===0&&I<p.length&&p!==this)for(;I<p.length;I++)this.words[I]=p.words[I];return this.length=Math.max(this.length,I),p!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function U(M,o,c){c.negative=o.negative^M.negative;var d=M.length+o.length|0;c.length=d,d=d-1|0;var p=M.words[0]|0,w=o.words[0]|0,S=p*w,I=S&67108863,m=S/67108864|0;c.words[0]=I;for(var a=1;a<d;a++){for(var v=m>>>26,q=m&67108863,D=Math.min(a,o.length-1),z=Math.max(0,a-M.length+1);z<=D;z++){var G=a-z|0;p=M.words[G]|0,w=o.words[z]|0,S=p*w+q,v+=S/67108864|0,q=S&67108863}c.words[a]=q|0,m=v|0}return m!==0?c.words[a]=m|0:c.length--,c.strip()}var L=function(o,c,d){var p=o.words,w=c.words,S=d.words,I=0,m,a,v,q=p[0]|0,D=q&8191,z=q>>>13,G=p[1]|0,ee=G&8191,re=G>>>13,qe=p[2]|0,te=qe&8191,ie=qe>>>13,It=p[3]|0,le=It&8191,ae=It>>>13,Ue=p[4]|0,ue=Ue&8191,fe=Ue>>>13,g=p[5]|0,u=g&8191,l=g>>>13,y=p[6]|0,C=y&8191,B=y>>>13,P=p[7]|0,j=P&8191,V=P>>>13,ne=p[8]|0,X=ne&8191,Q=ne>>>13,Xe=p[9]|0,ce=Xe&8191,he=Xe>>>13,kn=w[0]|0,de=kn&8191,pe=kn>>>13,Rn=w[1]|0,ge=Rn&8191,_e=Rn>>>13,In=w[2]|0,me=In&8191,ve=In>>>13,Tn=w[3]|0,we=Tn&8191,ye=Tn>>>13,An=w[4]|0,be=An&8191,Me=An>>>13,Bn=w[5]|0,xe=Bn&8191,Ee=Bn>>>13,On=w[6]|0,Se=On&8191,Ce=On>>>13,Nn=w[7]|0,ke=Nn&8191,Re=Nn>>>13,Ln=w[8]|0,Ie=Ln&8191,Te=Ln>>>13,Un=w[9]|0,Ae=Un&8191,Be=Un>>>13;d.negative=o.negative^c.negative,d.length=19,m=Math.imul(D,de),a=Math.imul(D,pe),a=a+Math.imul(z,de)|0,v=Math.imul(z,pe);var ir=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(ir>>>26)|0,ir&=67108863,m=Math.imul(ee,de),a=Math.imul(ee,pe),a=a+Math.imul(re,de)|0,v=Math.imul(re,pe),m=m+Math.imul(D,ge)|0,a=a+Math.imul(D,_e)|0,a=a+Math.imul(z,ge)|0,v=v+Math.imul(z,_e)|0;var or=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(or>>>26)|0,or&=67108863,m=Math.imul(te,de),a=Math.imul(te,pe),a=a+Math.imul(ie,de)|0,v=Math.imul(ie,pe),m=m+Math.imul(ee,ge)|0,a=a+Math.imul(ee,_e)|0,a=a+Math.imul(re,ge)|0,v=v+Math.imul(re,_e)|0,m=m+Math.imul(D,me)|0,a=a+Math.imul(D,ve)|0,a=a+Math.imul(z,me)|0,v=v+Math.imul(z,ve)|0;var sr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,m=Math.imul(le,de),a=Math.imul(le,pe),a=a+Math.imul(ae,de)|0,v=Math.imul(ae,pe),m=m+Math.imul(te,ge)|0,a=a+Math.imul(te,_e)|0,a=a+Math.imul(ie,ge)|0,v=v+Math.imul(ie,_e)|0,m=m+Math.imul(ee,me)|0,a=a+Math.imul(ee,ve)|0,a=a+Math.imul(re,me)|0,v=v+Math.imul(re,ve)|0,m=m+Math.imul(D,we)|0,a=a+Math.imul(D,ye)|0,a=a+Math.imul(z,we)|0,v=v+Math.imul(z,ye)|0;var ar=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(ue,de),a=Math.imul(ue,pe),a=a+Math.imul(fe,de)|0,v=Math.imul(fe,pe),m=m+Math.imul(le,ge)|0,a=a+Math.imul(le,_e)|0,a=a+Math.imul(ae,ge)|0,v=v+Math.imul(ae,_e)|0,m=m+Math.imul(te,me)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(ie,me)|0,v=v+Math.imul(ie,ve)|0,m=m+Math.imul(ee,we)|0,a=a+Math.imul(ee,ye)|0,a=a+Math.imul(re,we)|0,v=v+Math.imul(re,ye)|0,m=m+Math.imul(D,be)|0,a=a+Math.imul(D,Me)|0,a=a+Math.imul(z,be)|0,v=v+Math.imul(z,Me)|0;var ur=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(u,de),a=Math.imul(u,pe),a=a+Math.imul(l,de)|0,v=Math.imul(l,pe),m=m+Math.imul(ue,ge)|0,a=a+Math.imul(ue,_e)|0,a=a+Math.imul(fe,ge)|0,v=v+Math.imul(fe,_e)|0,m=m+Math.imul(le,me)|0,a=a+Math.imul(le,ve)|0,a=a+Math.imul(ae,me)|0,v=v+Math.imul(ae,ve)|0,m=m+Math.imul(te,we)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(ie,we)|0,v=v+Math.imul(ie,ye)|0,m=m+Math.imul(ee,be)|0,a=a+Math.imul(ee,Me)|0,a=a+Math.imul(re,be)|0,v=v+Math.imul(re,Me)|0,m=m+Math.imul(D,xe)|0,a=a+Math.imul(D,Ee)|0,a=a+Math.imul(z,xe)|0,v=v+Math.imul(z,Ee)|0;var lr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(C,de),a=Math.imul(C,pe),a=a+Math.imul(B,de)|0,v=Math.imul(B,pe),m=m+Math.imul(u,ge)|0,a=a+Math.imul(u,_e)|0,a=a+Math.imul(l,ge)|0,v=v+Math.imul(l,_e)|0,m=m+Math.imul(ue,me)|0,a=a+Math.imul(ue,ve)|0,a=a+Math.imul(fe,me)|0,v=v+Math.imul(fe,ve)|0,m=m+Math.imul(le,we)|0,a=a+Math.imul(le,ye)|0,a=a+Math.imul(ae,we)|0,v=v+Math.imul(ae,ye)|0,m=m+Math.imul(te,be)|0,a=a+Math.imul(te,Me)|0,a=a+Math.imul(ie,be)|0,v=v+Math.imul(ie,Me)|0,m=m+Math.imul(ee,xe)|0,a=a+Math.imul(ee,Ee)|0,a=a+Math.imul(re,xe)|0,v=v+Math.imul(re,Ee)|0,m=m+Math.imul(D,Se)|0,a=a+Math.imul(D,Ce)|0,a=a+Math.imul(z,Se)|0,v=v+Math.imul(z,Ce)|0;var cr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(j,de),a=Math.imul(j,pe),a=a+Math.imul(V,de)|0,v=Math.imul(V,pe),m=m+Math.imul(C,ge)|0,a=a+Math.imul(C,_e)|0,a=a+Math.imul(B,ge)|0,v=v+Math.imul(B,_e)|0,m=m+Math.imul(u,me)|0,a=a+Math.imul(u,ve)|0,a=a+Math.imul(l,me)|0,v=v+Math.imul(l,ve)|0,m=m+Math.imul(ue,we)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(fe,we)|0,v=v+Math.imul(fe,ye)|0,m=m+Math.imul(le,be)|0,a=a+Math.imul(le,Me)|0,a=a+Math.imul(ae,be)|0,v=v+Math.imul(ae,Me)|0,m=m+Math.imul(te,xe)|0,a=a+Math.imul(te,Ee)|0,a=a+Math.imul(ie,xe)|0,v=v+Math.imul(ie,Ee)|0,m=m+Math.imul(ee,Se)|0,a=a+Math.imul(ee,Ce)|0,a=a+Math.imul(re,Se)|0,v=v+Math.imul(re,Ce)|0,m=m+Math.imul(D,ke)|0,a=a+Math.imul(D,Re)|0,a=a+Math.imul(z,ke)|0,v=v+Math.imul(z,Re)|0;var hr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(X,de),a=Math.imul(X,pe),a=a+Math.imul(Q,de)|0,v=Math.imul(Q,pe),m=m+Math.imul(j,ge)|0,a=a+Math.imul(j,_e)|0,a=a+Math.imul(V,ge)|0,v=v+Math.imul(V,_e)|0,m=m+Math.imul(C,me)|0,a=a+Math.imul(C,ve)|0,a=a+Math.imul(B,me)|0,v=v+Math.imul(B,ve)|0,m=m+Math.imul(u,we)|0,a=a+Math.imul(u,ye)|0,a=a+Math.imul(l,we)|0,v=v+Math.imul(l,ye)|0,m=m+Math.imul(ue,be)|0,a=a+Math.imul(ue,Me)|0,a=a+Math.imul(fe,be)|0,v=v+Math.imul(fe,Me)|0,m=m+Math.imul(le,xe)|0,a=a+Math.imul(le,Ee)|0,a=a+Math.imul(ae,xe)|0,v=v+Math.imul(ae,Ee)|0,m=m+Math.imul(te,Se)|0,a=a+Math.imul(te,Ce)|0,a=a+Math.imul(ie,Se)|0,v=v+Math.imul(ie,Ce)|0,m=m+Math.imul(ee,ke)|0,a=a+Math.imul(ee,Re)|0,a=a+Math.imul(re,ke)|0,v=v+Math.imul(re,Re)|0,m=m+Math.imul(D,Ie)|0,a=a+Math.imul(D,Te)|0,a=a+Math.imul(z,Ie)|0,v=v+Math.imul(z,Te)|0;var fr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(ce,de),a=Math.imul(ce,pe),a=a+Math.imul(he,de)|0,v=Math.imul(he,pe),m=m+Math.imul(X,ge)|0,a=a+Math.imul(X,_e)|0,a=a+Math.imul(Q,ge)|0,v=v+Math.imul(Q,_e)|0,m=m+Math.imul(j,me)|0,a=a+Math.imul(j,ve)|0,a=a+Math.imul(V,me)|0,v=v+Math.imul(V,ve)|0,m=m+Math.imul(C,we)|0,a=a+Math.imul(C,ye)|0,a=a+Math.imul(B,we)|0,v=v+Math.imul(B,ye)|0,m=m+Math.imul(u,be)|0,a=a+Math.imul(u,Me)|0,a=a+Math.imul(l,be)|0,v=v+Math.imul(l,Me)|0,m=m+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Ee)|0,a=a+Math.imul(fe,xe)|0,v=v+Math.imul(fe,Ee)|0,m=m+Math.imul(le,Se)|0,a=a+Math.imul(le,Ce)|0,a=a+Math.imul(ae,Se)|0,v=v+Math.imul(ae,Ce)|0,m=m+Math.imul(te,ke)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(ie,ke)|0,v=v+Math.imul(ie,Re)|0,m=m+Math.imul(ee,Ie)|0,a=a+Math.imul(ee,Te)|0,a=a+Math.imul(re,Ie)|0,v=v+Math.imul(re,Te)|0,m=m+Math.imul(D,Ae)|0,a=a+Math.imul(D,Be)|0,a=a+Math.imul(z,Ae)|0,v=v+Math.imul(z,Be)|0;var dr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(ce,ge),a=Math.imul(ce,_e),a=a+Math.imul(he,ge)|0,v=Math.imul(he,_e),m=m+Math.imul(X,me)|0,a=a+Math.imul(X,ve)|0,a=a+Math.imul(Q,me)|0,v=v+Math.imul(Q,ve)|0,m=m+Math.imul(j,we)|0,a=a+Math.imul(j,ye)|0,a=a+Math.imul(V,we)|0,v=v+Math.imul(V,ye)|0,m=m+Math.imul(C,be)|0,a=a+Math.imul(C,Me)|0,a=a+Math.imul(B,be)|0,v=v+Math.imul(B,Me)|0,m=m+Math.imul(u,xe)|0,a=a+Math.imul(u,Ee)|0,a=a+Math.imul(l,xe)|0,v=v+Math.imul(l,Ee)|0,m=m+Math.imul(ue,Se)|0,a=a+Math.imul(ue,Ce)|0,a=a+Math.imul(fe,Se)|0,v=v+Math.imul(fe,Ce)|0,m=m+Math.imul(le,ke)|0,a=a+Math.imul(le,Re)|0,a=a+Math.imul(ae,ke)|0,v=v+Math.imul(ae,Re)|0,m=m+Math.imul(te,Ie)|0,a=a+Math.imul(te,Te)|0,a=a+Math.imul(ie,Ie)|0,v=v+Math.imul(ie,Te)|0,m=m+Math.imul(ee,Ae)|0,a=a+Math.imul(ee,Be)|0,a=a+Math.imul(re,Ae)|0,v=v+Math.imul(re,Be)|0;var pr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(ce,me),a=Math.imul(ce,ve),a=a+Math.imul(he,me)|0,v=Math.imul(he,ve),m=m+Math.imul(X,we)|0,a=a+Math.imul(X,ye)|0,a=a+Math.imul(Q,we)|0,v=v+Math.imul(Q,ye)|0,m=m+Math.imul(j,be)|0,a=a+Math.imul(j,Me)|0,a=a+Math.imul(V,be)|0,v=v+Math.imul(V,Me)|0,m=m+Math.imul(C,xe)|0,a=a+Math.imul(C,Ee)|0,a=a+Math.imul(B,xe)|0,v=v+Math.imul(B,Ee)|0,m=m+Math.imul(u,Se)|0,a=a+Math.imul(u,Ce)|0,a=a+Math.imul(l,Se)|0,v=v+Math.imul(l,Ce)|0,m=m+Math.imul(ue,ke)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(fe,ke)|0,v=v+Math.imul(fe,Re)|0,m=m+Math.imul(le,Ie)|0,a=a+Math.imul(le,Te)|0,a=a+Math.imul(ae,Ie)|0,v=v+Math.imul(ae,Te)|0,m=m+Math.imul(te,Ae)|0,a=a+Math.imul(te,Be)|0,a=a+Math.imul(ie,Ae)|0,v=v+Math.imul(ie,Be)|0;var gr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(ce,we),a=Math.imul(ce,ye),a=a+Math.imul(he,we)|0,v=Math.imul(he,ye),m=m+Math.imul(X,be)|0,a=a+Math.imul(X,Me)|0,a=a+Math.imul(Q,be)|0,v=v+Math.imul(Q,Me)|0,m=m+Math.imul(j,xe)|0,a=a+Math.imul(j,Ee)|0,a=a+Math.imul(V,xe)|0,v=v+Math.imul(V,Ee)|0,m=m+Math.imul(C,Se)|0,a=a+Math.imul(C,Ce)|0,a=a+Math.imul(B,Se)|0,v=v+Math.imul(B,Ce)|0,m=m+Math.imul(u,ke)|0,a=a+Math.imul(u,Re)|0,a=a+Math.imul(l,ke)|0,v=v+Math.imul(l,Re)|0,m=m+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,Te)|0,a=a+Math.imul(fe,Ie)|0,v=v+Math.imul(fe,Te)|0,m=m+Math.imul(le,Ae)|0,a=a+Math.imul(le,Be)|0,a=a+Math.imul(ae,Ae)|0,v=v+Math.imul(ae,Be)|0;var _r=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(ce,be),a=Math.imul(ce,Me),a=a+Math.imul(he,be)|0,v=Math.imul(he,Me),m=m+Math.imul(X,xe)|0,a=a+Math.imul(X,Ee)|0,a=a+Math.imul(Q,xe)|0,v=v+Math.imul(Q,Ee)|0,m=m+Math.imul(j,Se)|0,a=a+Math.imul(j,Ce)|0,a=a+Math.imul(V,Se)|0,v=v+Math.imul(V,Ce)|0,m=m+Math.imul(C,ke)|0,a=a+Math.imul(C,Re)|0,a=a+Math.imul(B,ke)|0,v=v+Math.imul(B,Re)|0,m=m+Math.imul(u,Ie)|0,a=a+Math.imul(u,Te)|0,a=a+Math.imul(l,Ie)|0,v=v+Math.imul(l,Te)|0,m=m+Math.imul(ue,Ae)|0,a=a+Math.imul(ue,Be)|0,a=a+Math.imul(fe,Ae)|0,v=v+Math.imul(fe,Be)|0;var mr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(ce,xe),a=Math.imul(ce,Ee),a=a+Math.imul(he,xe)|0,v=Math.imul(he,Ee),m=m+Math.imul(X,Se)|0,a=a+Math.imul(X,Ce)|0,a=a+Math.imul(Q,Se)|0,v=v+Math.imul(Q,Ce)|0,m=m+Math.imul(j,ke)|0,a=a+Math.imul(j,Re)|0,a=a+Math.imul(V,ke)|0,v=v+Math.imul(V,Re)|0,m=m+Math.imul(C,Ie)|0,a=a+Math.imul(C,Te)|0,a=a+Math.imul(B,Ie)|0,v=v+Math.imul(B,Te)|0,m=m+Math.imul(u,Ae)|0,a=a+Math.imul(u,Be)|0,a=a+Math.imul(l,Ae)|0,v=v+Math.imul(l,Be)|0;var vr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(ce,Se),a=Math.imul(ce,Ce),a=a+Math.imul(he,Se)|0,v=Math.imul(he,Ce),m=m+Math.imul(X,ke)|0,a=a+Math.imul(X,Re)|0,a=a+Math.imul(Q,ke)|0,v=v+Math.imul(Q,Re)|0,m=m+Math.imul(j,Ie)|0,a=a+Math.imul(j,Te)|0,a=a+Math.imul(V,Ie)|0,v=v+Math.imul(V,Te)|0,m=m+Math.imul(C,Ae)|0,a=a+Math.imul(C,Be)|0,a=a+Math.imul(B,Ae)|0,v=v+Math.imul(B,Be)|0;var wr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(ce,ke),a=Math.imul(ce,Re),a=a+Math.imul(he,ke)|0,v=Math.imul(he,Re),m=m+Math.imul(X,Ie)|0,a=a+Math.imul(X,Te)|0,a=a+Math.imul(Q,Ie)|0,v=v+Math.imul(Q,Te)|0,m=m+Math.imul(j,Ae)|0,a=a+Math.imul(j,Be)|0,a=a+Math.imul(V,Ae)|0,v=v+Math.imul(V,Be)|0;var yr=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(ce,Ie),a=Math.imul(ce,Te),a=a+Math.imul(he,Ie)|0,v=Math.imul(he,Te),m=m+Math.imul(X,Ae)|0,a=a+Math.imul(X,Be)|0,a=a+Math.imul(Q,Ae)|0,v=v+Math.imul(Q,Be)|0;var br=(I+m|0)+((a&8191)<<13)|0;I=(v+(a>>>13)|0)+(br>>>26)|0,br&=67108863,m=Math.imul(ce,Ae),a=Math.imul(ce,Be),a=a+Math.imul(he,Ae)|0,v=Math.imul(he,Be);var Mr=(I+m|0)+((a&8191)<<13)|0;return I=(v+(a>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,S[0]=ir,S[1]=or,S[2]=sr,S[3]=ar,S[4]=ur,S[5]=lr,S[6]=cr,S[7]=hr,S[8]=fr,S[9]=dr,S[10]=pr,S[11]=gr,S[12]=_r,S[13]=mr,S[14]=vr,S[15]=wr,S[16]=yr,S[17]=br,S[18]=Mr,I!==0&&(S[19]=I,d.length++),d};Math.imul||(L=U);function F(M,o,c){c.negative=o.negative^M.negative,c.length=M.length+o.length;for(var d=0,p=0,w=0;w<c.length-1;w++){var S=p;p=0;for(var I=d&67108863,m=Math.min(w,o.length-1),a=Math.max(0,w-M.length+1);a<=m;a++){var v=w-a,q=M.words[v]|0,D=o.words[a]|0,z=q*D,G=z&67108863;S=S+(z/67108864|0)|0,G=G+I|0,I=G&67108863,S=S+(G>>>26)|0,p+=S>>>26,S&=67108863}c.words[w]=I,d=S,S=p}return d!==0?c.words[w]=d:c.length--,c.strip()}function E(M,o,c){var d=new k;return d.mulp(M,o,c)}i.prototype.mulTo=function(o,c){var d,p=this.length+o.length;return this.length===10&&o.length===10?d=L(this,o,c):p<63?d=U(this,o,c):p<1024?d=F(this,o,c):d=E(this,o,c),d};function k(M,o){this.x=M,this.y=o}k.prototype.makeRBT=function(o){for(var c=new Array(o),d=i.prototype._countBits(o)-1,p=0;p<o;p++)c[p]=this.revBin(p,d,o);return c},k.prototype.revBin=function(o,c,d){if(o===0||o===d-1)return o;for(var p=0,w=0;w<c;w++)p|=(o&1)<<c-w-1,o>>=1;return p},k.prototype.permute=function(o,c,d,p,w,S){for(var I=0;I<S;I++)p[I]=c[o[I]],w[I]=d[o[I]]},k.prototype.transform=function(o,c,d,p,w,S){this.permute(S,o,c,d,p,w);for(var I=1;I<w;I<<=1)for(var m=I<<1,a=Math.cos(2*Math.PI/m),v=Math.sin(2*Math.PI/m),q=0;q<w;q+=m)for(var D=a,z=v,G=0;G<I;G++){var ee=d[q+G],re=p[q+G],qe=d[q+G+I],te=p[q+G+I],ie=D*qe-z*te;te=D*te+z*qe,qe=ie,d[q+G]=ee+qe,p[q+G]=re+te,d[q+G+I]=ee-qe,p[q+G+I]=re-te,G!==m&&(ie=a*D-v*z,z=a*z+v*D,D=ie)}},k.prototype.guessLen13b=function(o,c){var d=Math.max(c,o)|1,p=d&1,w=0;for(d=d/2|0;d;d=d>>>1)w++;return 1<<w+1+p},k.prototype.conjugate=function(o,c,d){if(!(d<=1))for(var p=0;p<d/2;p++){var w=o[p];o[p]=o[d-p-1],o[d-p-1]=w,w=c[p],c[p]=-c[d-p-1],c[d-p-1]=-w}},k.prototype.normalize13b=function(o,c){for(var d=0,p=0;p<c/2;p++){var w=Math.round(o[2*p+1]/c)*8192+Math.round(o[2*p]/c)+d;o[p]=w&67108863,w<67108864?d=0:d=w/67108864|0}return o},k.prototype.convert13b=function(o,c,d,p){for(var w=0,S=0;S<c;S++)w=w+(o[S]|0),d[2*S]=w&8191,w=w>>>13,d[2*S+1]=w&8191,w=w>>>13;for(S=2*c;S<p;++S)d[S]=0;n(w===0),n((w&-8192)===0)},k.prototype.stub=function(o){for(var c=new Array(o),d=0;d<o;d++)c[d]=0;return c},k.prototype.mulp=function(o,c,d){var p=2*this.guessLen13b(o.length,c.length),w=this.makeRBT(p),S=this.stub(p),I=new Array(p),m=new Array(p),a=new Array(p),v=new Array(p),q=new Array(p),D=new Array(p),z=d.words;z.length=p,this.convert13b(o.words,o.length,I,p),this.convert13b(c.words,c.length,v,p),this.transform(I,S,m,a,p,w),this.transform(v,S,q,D,p,w);for(var G=0;G<p;G++){var ee=m[G]*q[G]-a[G]*D[G];a[G]=m[G]*D[G]+a[G]*q[G],m[G]=ee}return this.conjugate(m,a,p),this.transform(m,a,z,S,p,w),this.conjugate(z,S,p),this.normalize13b(z,p),d.negative=o.negative^c.negative,d.length=o.length+c.length,d.strip()},i.prototype.mul=function(o){var c=new i(null);return c.words=new Array(this.length+o.length),this.mulTo(o,c)},i.prototype.mulf=function(o){var c=new i(null);return c.words=new Array(this.length+o.length),E(this,o,c)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var c=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*o,w=(p&67108863)+(c&67108863);c>>=26,c+=p/67108864|0,c+=w>>>26,this.words[d]=w&67108863}return c!==0&&(this.words[d]=c,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var c=O(o);if(c.length===0)return new i(1);for(var d=this,p=0;p<c.length&&c[p]===0;p++,d=d.sqr());if(++p<c.length)for(var w=d.sqr();p<c.length;p++,w=w.sqr())c[p]!==0&&(d=d.mul(w));return d},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26,p=67108863>>>26-c<<26-c,w;if(c!==0){var S=0;for(w=0;w<this.length;w++){var I=this.words[w]&p,m=(this.words[w]|0)-I<<c;this.words[w]=m|S,S=I>>>26-c}S&&(this.words[w]=S,this.length++)}if(d!==0){for(w=this.length-1;w>=0;w--)this.words[w+d]=this.words[w];for(w=0;w<d;w++)this.words[w]=0;this.length+=d}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,c,d){n(typeof o=="number"&&o>=0);var p;c?p=(c-c%26)/26:p=0;var w=o%26,S=Math.min((o-w)/26,this.length),I=67108863^67108863>>>w<<w,m=d;if(p-=S,p=Math.max(0,p),m){for(var a=0;a<S;a++)m.words[a]=this.words[a];m.length=S}if(S!==0)if(this.length>S)for(this.length-=S,a=0;a<this.length;a++)this.words[a]=this.words[a+S];else this.words[0]=0,this.length=1;var v=0;for(a=this.length-1;a>=0&&(v!==0||a>=p);a--){var q=this.words[a]|0;this.words[a]=v<<26-w|q>>>w,v=q&I}return m&&v!==0&&(m.words[m.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,c,d){return n(this.negative===0),this.iushrn(o,c,d)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26,p=1<<c;if(this.length<=d)return!1;var w=this.words[d];return!!(w&p)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var c=o%26,d=(o-c)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(c!==0&&d++,this.length=Math.min(d,this.length),c!==0){var p=67108863^67108863>>>c<<c;this.words[this.length-1]&=p}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,c,d){var p=o.length+d,w;this._expand(p);var S,I=0;for(w=0;w<o.length;w++){S=(this.words[w+d]|0)+I;var m=(o.words[w]|0)*c;S-=m&67108863,I=(S>>26)-(m/67108864|0),this.words[w+d]=S&67108863}for(;w<this.length-d;w++)S=(this.words[w+d]|0)+I,I=S>>26,this.words[w+d]=S&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+I,I=S>>26,this.words[w]=S&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,c){var d=this.length-o.length,p=this.clone(),w=o,S=w.words[w.length-1]|0,I=this._countBits(S);d=26-I,d!==0&&(w=w.ushln(d),p.iushln(d),S=w.words[w.length-1]|0);var m=p.length-w.length,a;if(c!=="mod"){a=new i(null),a.length=m+1,a.words=new Array(a.length);for(var v=0;v<a.length;v++)a.words[v]=0}var q=p.clone()._ishlnsubmul(w,1,m);q.negative===0&&(p=q,a&&(a.words[m]=1));for(var D=m-1;D>=0;D--){var z=(p.words[w.length+D]|0)*67108864+(p.words[w.length+D-1]|0);for(z=Math.min(z/S|0,67108863),p._ishlnsubmul(w,z,D);p.negative!==0;)z--,p.negative=0,p._ishlnsubmul(w,1,D),p.isZero()||(p.negative^=1);a&&(a.words[D]=z)}return a&&a.strip(),p.strip(),c!=="div"&&d!==0&&p.iushrn(d),{div:a||null,mod:p}},i.prototype.divmod=function(o,c,d){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,w,S;return this.negative!==0&&o.negative===0?(S=this.neg().divmod(o,c),c!=="mod"&&(p=S.div.neg()),c!=="div"&&(w=S.mod.neg(),d&&w.negative!==0&&w.iadd(o)),{div:p,mod:w}):this.negative===0&&o.negative!==0?(S=this.divmod(o.neg(),c),c!=="mod"&&(p=S.div.neg()),{div:p,mod:S.mod}):this.negative&o.negative?(S=this.neg().divmod(o.neg(),c),c!=="div"&&(w=S.mod.neg(),d&&w.negative!==0&&w.isub(o)),{div:S.div,mod:w}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?c==="div"?{div:this.divn(o.words[0]),mod:null}:c==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,c)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var c=this.divmod(o);if(c.mod.isZero())return c.div;var d=c.div.negative!==0?c.mod.isub(o):c.mod,p=o.ushrn(1),w=o.andln(1),S=d.cmp(p);return S<0||w===1&&S===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var c=(1<<26)%o,d=0,p=this.length-1;p>=0;p--)d=(c*d+(this.words[p]|0))%o;return d},i.prototype.idivn=function(o){n(o<=67108863);for(var c=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+c*67108864;this.words[d]=p/o|0,c=p%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var c=this,d=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var p=new i(1),w=new i(0),S=new i(0),I=new i(1),m=0;c.isEven()&&d.isEven();)c.iushrn(1),d.iushrn(1),++m;for(var a=d.clone(),v=c.clone();!c.isZero();){for(var q=0,D=1;!(c.words[0]&D)&&q<26;++q,D<<=1);if(q>0)for(c.iushrn(q);q-- >0;)(p.isOdd()||w.isOdd())&&(p.iadd(a),w.isub(v)),p.iushrn(1),w.iushrn(1);for(var z=0,G=1;!(d.words[0]&G)&&z<26;++z,G<<=1);if(z>0)for(d.iushrn(z);z-- >0;)(S.isOdd()||I.isOdd())&&(S.iadd(a),I.isub(v)),S.iushrn(1),I.iushrn(1);c.cmp(d)>=0?(c.isub(d),p.isub(S),w.isub(I)):(d.isub(c),S.isub(p),I.isub(w))}return{a:S,b:I,gcd:d.iushln(m)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var c=this,d=o.clone();c.negative!==0?c=c.umod(o):c=c.clone();for(var p=new i(1),w=new i(0),S=d.clone();c.cmpn(1)>0&&d.cmpn(1)>0;){for(var I=0,m=1;!(c.words[0]&m)&&I<26;++I,m<<=1);if(I>0)for(c.iushrn(I);I-- >0;)p.isOdd()&&p.iadd(S),p.iushrn(1);for(var a=0,v=1;!(d.words[0]&v)&&a<26;++a,v<<=1);if(a>0)for(d.iushrn(a);a-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);c.cmp(d)>=0?(c.isub(d),p.isub(w)):(d.isub(c),w.isub(p))}var q;return c.cmpn(1)===0?q=p:q=w,q.cmpn(0)<0&&q.iadd(o),q},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var c=this.clone(),d=o.clone();c.negative=0,d.negative=0;for(var p=0;c.isEven()&&d.isEven();p++)c.iushrn(1),d.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;d.isEven();)d.iushrn(1);var w=c.cmp(d);if(w<0){var S=c;c=d,d=S}else if(w===0||d.cmpn(1)===0)break;c.isub(d)}while(!0);return d.iushln(p)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var c=o%26,d=(o-c)/26,p=1<<c;if(this.length<=d)return this._expand(d+1),this.words[d]|=p,this;for(var w=p,S=d;w!==0&&S<this.length;S++){var I=this.words[S]|0;I+=w,w=I>>>26,I&=67108863,this.words[S]=I}return w!==0&&(this.words[S]=w,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var c=o<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this.strip();var d;if(this.length>1)d=1;else{c&&(o=-o),n(o<=67108863,"Number is too big");var p=this.words[0]|0;d=p===o?0:p<o?-1:1}return this.negative!==0?-d|0:d},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var c=this.ucmp(o);return this.negative!==0?-c|0:c},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var c=0,d=this.length-1;d>=0;d--){var p=this.words[d]|0,w=o.words[d]|0;if(p!==w){p<w?c=-1:p>w&&(c=1);break}}return c},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new Y(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var A={k256:null,p224:null,p192:null,p25519:null};function R(M,o){this.name=M,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},R.prototype.ireduce=function(o){var c=o,d;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),d=c.bitLength();while(d>this.n);var p=d<this.n?-1:c.ucmp(this.p);return p===0?(c.words[0]=0,c.length=1):p>0?c.isub(this.p):c.strip(),c},R.prototype.split=function(o,c){o.iushrn(this.n,0,c)},R.prototype.imulK=function(o){return o.imul(this.k)};function N(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(N,R),N.prototype.split=function(o,c){for(var d=4194303,p=Math.min(o.length,9),w=0;w<p;w++)c.words[w]=o.words[w];if(c.length=p,o.length<=9){o.words[0]=0,o.length=1;return}var S=o.words[9];for(c.words[c.length++]=S&d,w=10;w<o.length;w++){var I=o.words[w]|0;o.words[w-10]=(I&d)<<4|S>>>22,S=I}S>>>=22,o.words[w-10]=S,S===0&&o.length>10?o.length-=10:o.length-=9},N.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var c=0,d=0;d<o.length;d++){var p=o.words[d]|0;c+=p*977,o.words[d]=c&67108863,c=p*64+(c/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,R);function W(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,R);function K(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(K,R),K.prototype.imulK=function(o){for(var c=0,d=0;d<o.length;d++){var p=(o.words[d]|0)*19+c,w=p&67108863;p>>>=26,o.words[d]=w,c=p}return c!==0&&(o.words[o.length++]=c),o},i._prime=function(o){if(A[o])return A[o];var c;if(o==="k256")c=new N;else if(o==="p224")c=new H;else if(o==="p192")c=new W;else if(o==="p25519")c=new K;else throw new Error("Unknown prime "+o);return A[o]=c,c};function Y(M){if(typeof M=="string"){var o=i._prime(M);this.m=o.p,this.prime=o}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}Y.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},Y.prototype._verify2=function(o,c){n((o.negative|c.negative)===0,"red works only with positives"),n(o.red&&o.red===c.red,"red works only with red numbers")},Y.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},Y.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Y.prototype.add=function(o,c){this._verify2(o,c);var d=o.add(c);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},Y.prototype.iadd=function(o,c){this._verify2(o,c);var d=o.iadd(c);return d.cmp(this.m)>=0&&d.isub(this.m),d},Y.prototype.sub=function(o,c){this._verify2(o,c);var d=o.sub(c);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},Y.prototype.isub=function(o,c){this._verify2(o,c);var d=o.isub(c);return d.cmpn(0)<0&&d.iadd(this.m),d},Y.prototype.shl=function(o,c){return this._verify1(o),this.imod(o.ushln(c))},Y.prototype.imul=function(o,c){return this._verify2(o,c),this.imod(o.imul(c))},Y.prototype.mul=function(o,c){return this._verify2(o,c),this.imod(o.mul(c))},Y.prototype.isqr=function(o){return this.imul(o,o.clone())},Y.prototype.sqr=function(o){return this.mul(o,o)},Y.prototype.sqrt=function(o){if(o.isZero())return o.clone();var c=this.m.andln(3);if(n(c%2===1),c===3){var d=this.m.add(new i(1)).iushrn(2);return this.pow(o,d)}for(var p=this.m.subn(1),w=0;!p.isZero()&&p.andln(1)===0;)w++,p.iushrn(1);n(!p.isZero());var S=new i(1).toRed(this),I=S.redNeg(),m=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,m).cmp(I)!==0;)a.redIAdd(I);for(var v=this.pow(a,p),q=this.pow(o,p.addn(1).iushrn(1)),D=this.pow(o,p),z=w;D.cmp(S)!==0;){for(var G=D,ee=0;G.cmp(S)!==0;ee++)G=G.redSqr();n(ee<z);var re=this.pow(v,new i(1).iushln(z-ee-1));q=q.redMul(re),v=re.redSqr(),D=D.redMul(v),z=ee}return q},Y.prototype.invm=function(o){var c=o._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},Y.prototype.pow=function(o,c){if(c.isZero())return new i(1).toRed(this);if(c.cmpn(1)===0)return o.clone();var d=4,p=new Array(1<<d);p[0]=new i(1).toRed(this),p[1]=o;for(var w=2;w<p.length;w++)p[w]=this.mul(p[w-1],o);var S=p[0],I=0,m=0,a=c.bitLength()%26;for(a===0&&(a=26),w=c.length-1;w>=0;w--){for(var v=c.words[w],q=a-1;q>=0;q--){var D=v>>q&1;if(S!==p[0]&&(S=this.sqr(S)),D===0&&I===0){m=0;continue}I<<=1,I|=D,m++,!(m!==d&&(w!==0||q!==0))&&(S=this.mul(S,p[I]),m=0,I=0)}a=26}return S},Y.prototype.convertTo=function(o){var c=o.umod(this.m);return c===o?c.clone():c},Y.prototype.convertFrom=function(o){var c=o.clone();return c.red=null,c},i.mont=function(o){return new se(o)};function se(M){Y.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(se,Y),se.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},se.prototype.convertFrom=function(o){var c=this.imod(o.mul(this.rinv));return c.red=null,c},se.prototype.imul=function(o,c){if(o.isZero()||c.isZero())return o.words[0]=0,o.length=1,o;var d=o.imul(c),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},se.prototype.mul=function(o,c){if(o.isZero()||c.isZero())return new i(0)._forceRed(this);var d=o.mul(c),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=d.isub(p).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},se.prototype.invm=function(o){var c=this.imod(o._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(t,Ne)})(rn);var ga=rn.exports;const _a=zt(ga);var ma=nn;nn.strict=Yi;nn.loose=Gi;var va=Object.prototype.toString,wa={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function nn(t){return Yi(t)||Gi(t)}function Yi(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function Gi(t){return wa[va.call(t)]}var ya=ma.strict,ba=function(e){if(ya(e)){var r=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}else return Buffer.from(e)};const Ma=zt(ba),Qi="hex",Xi="utf8",Kt="0";function ot(t){return new Uint8Array(t)}function Zi(t,e=!1){const r=t.toString(Qi);return e?dt(r):r}function xa(t){return t.toString(Xi)}function Yt(t){return Ma(t)}function nt(t,e=!1){return Zi(Yt(t),e)}function Ea(t){return xa(Yt(t))}function Sa(t){return Buffer.from(Ke(t),Qi)}function it(t){return ot(Sa(t))}function on(t){return Buffer.from(t,Xi)}function Ca(t){return ot(on(t))}function ka(t,e=!1){return Zi(on(t),e)}function Ra(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function eo(...t){let e=[];return t.forEach(r=>e=e.concat(Array.from(r))),new Uint8Array([...e])}function Ia(t,e=8){const r=t%e;return r?(t-r)/e*e+e:t}function Ta(t,e=8,r=Kt){return Aa(t,Ia(t.length,e),r)}function Aa(t,e,r=Kt){return Oa(t,e,!0,r)}function Ke(t){return t.replace(/^0x/,"")}function dt(t){return t.startsWith("0x")?t:`0x${t}`}function to(t){return t=Ke(t),t=Ta(t,2),t&&(t=dt(t)),t}function Ba(t){const e=t.startsWith("0x");return t=Ke(t),t=t.startsWith(Kt)?t.substring(1):t,e?dt(t):t}function Oa(t,e,r,n=Kt){const s=e-t.length;let i=t;if(s>0){const f=n.repeat(s);i=r?f+t:t+f}return i}function Lr(t){return Yt(new Uint8Array(t))}function Na(t,e){return nt(new Uint8Array(t),!e)}function La(t){return ot(t).buffer}function Ua(t){return on(t)}function Pa(t,e){return ka(t,!e)}function Fa(t){return it(t).buffer}function ro(t,e){const r=Ke(to(new _a(t).toString(16)));return e?r:dt(r)}var pt={};const qa=Gr(Ms);var He={},Hn;function Da(){if(Hn)return He;Hn=1,Object.defineProperty(He,"__esModule",{value:!0}),He.isBrowserCryptoAvailable=He.getSubtleCrypto=He.getBrowerCrypto=void 0;function t(){return(Ne===null||Ne===void 0?void 0:Ne.crypto)||(Ne===null||Ne===void 0?void 0:Ne.msCrypto)||{}}He.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}He.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return He.isBrowserCryptoAvailable=r,He}var $e={},$n;function Ha(){if($n)return $e;$n=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.isBrowser=$e.isNode=$e.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}$e.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}$e.isNode=e;function r(){return!t()&&!e()}return $e.isBrowser=r,$e}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=qa;e.__exportStar(Da(),t),e.__exportStar(Ha(),t)})(pt);function $a(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Tt(t){return to(t)}function Wa(t){return Ba(dt(t))}const Ur=$a;function xr(){return((e,r)=>{for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r})()}function za(t,e){let r;const n=pa[t];return n&&(r=`https://${n}.infura.io/v3/${e}`),r}function ja(t,e){let r;const n=za(t,e.infuraId);return e.custom&&e.custom[t]?r=e.custom[t]:n&&(r=n),r}function Va(t){return t===""||typeof t=="string"&&t.trim()===""}function Ja(t){return!(t&&t.length)}function no(t,e){return Ra(t,e)}function Ka(t){return typeof t.method<"u"}function mt(t){return typeof t.result<"u"}function Pt(t){return typeof t.error<"u"}function Wn(t){return typeof t.event<"u"}function Ya(t){return da.includes(t)||t.startsWith("wc_")}function Ga(t){return t.method.startsWith("wc_")?!0:!tn.includes(t.method)}function Qa(t){t=Ke(t.toLowerCase());const e=Ke(bs.keccak_256(Ua(t)));let r="";for(let n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return dt(r)}const Xa=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===Qa(t):!1:!1;function Ft(t){return!Ja(t)&&!no(t[0])&&(t[0]=Pa(t[0])),t}function Er(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!Xa(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(s){let i=s;return(typeof s=="number"||typeof s=="string"&&!Va(s))&&(no(s)?typeof s=="string"&&(i=Tt(s)):i=ro(s)),typeof i=="string"&&(i=Wa(i)),i}const r={from:Tt(t.from),to:typeof t.to>"u"?void 0:Tt(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":Tt(t.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(s=>{(typeof r[s]>"u"||typeof r[s]=="string"&&!r[s].trim().length)&&n.includes(s)&&delete r[s]}),r}function Za(t){const e=t.message||"Failed or Rejected Request";let r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}const n={code:r,message:e};return t.data&&(n.data=t.data),n}var sn={},eu=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),io="%[a-f0-9]{2}",zn=new RegExp("("+io+")|([^%]+?)","gi"),jn=new RegExp("("+io+")+","gi");function Pr(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],Pr(r),Pr(n))}function tu(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(zn)||[],r=1;r<e.length;r++)t=Pr(e,r).join(""),e=t.match(zn)||[];return t}}function ru(t){for(var e={"%FE%FF":"","%FF%FE":""},r=jn.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=tu(r[0]);n!==r[0]&&(e[r[0]]=n)}r=jn.exec(t)}e["%C2"]="";for(var s=Object.keys(e),i=0;i<s.length;i++){var f=s[i];t=t.replace(new RegExp(f,"g"),e[f])}return t}var nu=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return ru(t)}},iu=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]};(function(t){const e=eu,r=nu,n=iu,s=E=>E==null;function i(E){switch(E.arrayFormat){case"index":return k=>(A,R)=>{const N=A.length;return R===void 0||E.skipNull&&R===null||E.skipEmptyString&&R===""?A:R===null?[...A,[_(k,E),"[",N,"]"].join("")]:[...A,[_(k,E),"[",_(N,E),"]=",_(R,E)].join("")]};case"bracket":return k=>(A,R)=>R===void 0||E.skipNull&&R===null||E.skipEmptyString&&R===""?A:R===null?[...A,[_(k,E),"[]"].join("")]:[...A,[_(k,E),"[]=",_(R,E)].join("")];case"comma":case"separator":return k=>(A,R)=>R==null||R.length===0?A:A.length===0?[[_(k,E),"=",_(R,E)].join("")]:[[A,_(R,E)].join(E.arrayFormatSeparator)];default:return k=>(A,R)=>R===void 0||E.skipNull&&R===null||E.skipEmptyString&&R===""?A:R===null?[...A,_(k,E)]:[...A,[_(k,E),"=",_(R,E)].join("")]}}function f(E){let k;switch(E.arrayFormat){case"index":return(A,R,N)=>{if(k=/\[(\d*)\]$/.exec(A),A=A.replace(/\[\d*\]$/,""),!k){N[A]=R;return}N[A]===void 0&&(N[A]={}),N[A][k[1]]=R};case"bracket":return(A,R,N)=>{if(k=/(\[\])$/.exec(A),A=A.replace(/\[\]$/,""),!k){N[A]=R;return}if(N[A]===void 0){N[A]=[R];return}N[A]=[].concat(N[A],R)};case"comma":case"separator":return(A,R,N)=>{const W=typeof R=="string"&&R.split("").indexOf(E.arrayFormatSeparator)>-1?R.split(E.arrayFormatSeparator).map(K=>x(K,E)):R===null?R:x(R,E);N[A]=W};default:return(A,R,N)=>{if(N[A]===void 0){N[A]=R;return}N[A]=[].concat(N[A],R)}}}function h(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(E,k){return k.encode?k.strict?e(E):encodeURIComponent(E):E}function x(E,k){return k.decode?r(E):E}function b(E){return Array.isArray(E)?E.sort():typeof E=="object"?b(Object.keys(E)).sort((k,A)=>Number(k)-Number(A)).map(k=>E[k]):E}function T(E){const k=E.indexOf("#");return k!==-1&&(E=E.slice(0,k)),E}function O(E){let k="";const A=E.indexOf("#");return A!==-1&&(k=E.slice(A)),k}function U(E){E=T(E);const k=E.indexOf("?");return k===-1?"":E.slice(k+1)}function L(E,k){return k.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):k.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function F(E,k){k=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},k),h(k.arrayFormatSeparator);const A=f(k),R=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return R;for(const N of E.split("&")){let[H,W]=n(k.decode?N.replace(/\+/g," "):N,"=");W=W===void 0?null:["comma","separator"].includes(k.arrayFormat)?W:x(W,k),A(x(H,k),W,R)}for(const N of Object.keys(R)){const H=R[N];if(typeof H=="object"&&H!==null)for(const W of Object.keys(H))H[W]=L(H[W],k);else R[N]=L(H,k)}return k.sort===!1?R:(k.sort===!0?Object.keys(R).sort():Object.keys(R).sort(k.sort)).reduce((N,H)=>{const W=R[H];return W&&typeof W=="object"&&!Array.isArray(W)?N[H]=b(W):N[H]=W,N},Object.create(null))}t.extract=U,t.parse=F,t.stringify=(E,k)=>{if(!E)return"";k=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},k),h(k.arrayFormatSeparator);const A=W=>k.skipNull&&s(E[W])||k.skipEmptyString&&E[W]==="",R=i(k),N={};for(const W of Object.keys(E))A(W)||(N[W]=E[W]);const H=Object.keys(N);return k.sort!==!1&&H.sort(k.sort),H.map(W=>{const K=E[W];return K===void 0?"":K===null?_(W,k):Array.isArray(K)?K.reduce(R(W),[]).join("&"):_(W,k)+"="+_(K,k)}).filter(W=>W.length>0).join("&")},t.parseUrl=(E,k)=>{k=Object.assign({decode:!0},k);const[A,R]=n(E,"#");return Object.assign({url:A.split("?")[0]||"",query:F(U(E),k)},k&&k.parseFragmentIdentifier&&R?{fragmentIdentifier:x(R,k)}:{})},t.stringifyUrl=(E,k)=>{k=Object.assign({encode:!0,strict:!0},k);const A=T(E.url).split("?")[0]||"",R=t.extract(E.url),N=t.parse(R,{sort:!1}),H=Object.assign(N,E.query);let W=t.stringify(H,k);W&&(W=`?${W}`);let K=O(E.url);return E.fragmentIdentifier&&(K=`#${_(E.fragmentIdentifier,k)}`),`${A}${W}${K}`}})(sn);function ou(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function su(t,e){let r=oo(t);return r=Object.assign(Object.assign({},r),e),t=au(r),t}function oo(t){return sn.parse(t)}function au(t){return sn.stringify(t)}function uu(t){return typeof t.bridge<"u"}function lu(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r);function i(T){const O="@",U=T.split(O);return{handshakeTopic:U[0],version:parseInt(U[1],10)}}const f=i(s),h=typeof r<"u"?t.substr(r):"";function _(T){const O=oo(T);return{key:O.key||"",bridge:O.bridge||""}}const x=_(h);return Object.assign(Object.assign({protocol:n},f),x)}class cu{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,r){this._eventEmitters.push({event:e,callback:r})}trigger(e){let r=[];e&&(r=this._eventEmitters.filter(n=>n.event===e)),r.forEach(n=>{n.callback()})}}const hu=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class fu{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new cu,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:e,silent:!!n})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,r){this._events.push({event:e,callback:r})}_socketCreate(){if(this._nextSocket)return;const e=du(this._url,this._protocol,this._version);if(this._nextSocket=new hu(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const r=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let r;try{r=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(s=>s.event==="message");n&&n.length&&n.forEach(s=>s.callback(r))}}_socketError(e){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}function du(t,e,r){var n,s;const f=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),h=Di()?{protocol:e,version:r,env:"browser",host:((n=Wi())===null||n===void 0?void 0:n.host)||""}:{protocol:e,version:r,env:((s=jt())===null||s===void 0?void 0:s.name)||""},_=su(ou(f[1]||""),h);return f[0]+"?"+_}const Sr="Session currently connected",Ze="Session currently disconnected",pu="Session Rejected",gu="Missing JSON RPC response",_u='JSON-RPC success response must include "result" field',mu='JSON-RPC error response must include "error" field',vu='JSON RPC request must have valid "method" value',wu='JSON RPC request must have valid "id" value',yu="Missing one of the required parameters: bridge / uri / session",Vn="JSON RPC response format is invalid",bu="URI format is invalid",Mu="QRCode Modal not provided",Jn="User close QRCode Modal";class xu{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==e)}trigger(e){let r=[],n;Ka(e)?n=e.method:mt(e)||Pt(e)?n=`response:${e.id}`:Wn(e)?n=e.event:n="",n&&(r=this._eventEmitters.filter(s=>s.event===n)),(!r||!r.length)&&!Ya(n)&&!Wn(n)&&(r=this._eventEmitters.filter(s=>s.event==="call_request")),r.forEach(s=>{if(Pt(e)){const i=new Error(e.error.message);s.callback(i,null)}else s.callback(null,e)})}}class Eu{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const r=Zr(this.storageId);return r&&uu(r)&&(e=r),e}setSession(e){return Xr(this.storageId,e),e}removeSession(){en(this.storageId)}}const Su="walletconnect.org",Cu="abcdefghijklmnopqrstuvwxyz0123456789",so=Cu.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function ku(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function Ru(t){return ku(t).split(".").slice(-2).join(".")}function Iu(){return Math.floor(Math.random()*so.length)}function Tu(){return so[Iu()]}function Au(t){return Ru(t)===Su}function Bu(t){return Au(t)?Tu():t}class Ou{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new xu,this._clientMeta=Nr()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new Eu(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...tn,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(yu);e.connectorOpts.bridge&&(this.bridge=Bu(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const r=e.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new fu({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const r=Fa(e);this._key=r}get key(){return this._key?Na(this._key,!0):""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=xr()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=Nr()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:r,bridge:n,key:s}=this._parseUri(e);this.handshakeTopic=r,this.bridge=n,this.key=s}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,r){const n={event:e,callback:r};this._eventManager.subscribe(n)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=r.id,this.handshakeTopic=xr(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Jn)});const n=()=>{this.killSession()};try{const s=await this._sendCallRequest(r);return s&&n(),s}catch(s){throw n(),s}}async connect(e){if(!this._qrcodeModal)throw new Error(Mu);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(Jn))),this.on("connect",(s,i)=>{if(s)return n(s);r(i.params[0])})}))}async createSession(e){if(this._connected)throw new Error(Sr);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=xr(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(Sr);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(Sr);const r=e&&e.message?e.message:pu,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(Ze);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const r=e?e.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},s=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(s),this._handleSessionDisconnect(r)}async sendTransaction(e){if(!this._connected)throw new Error(Ze);const r=Er(e),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(e){if(!this._connected)throw new Error(Ze);const r=Er(e),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(e){if(!this._connected)throw new Error(Ze);const r=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(r)}async signPersonalMessage(e){if(!this._connected)throw new Error(Ze);e=Ft(e);const r=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(r)}async signTypedData(e){if(!this._connected)throw new Error(Ze);const r=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(r)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(r)}unsafeSend(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),new Promise((n,s)=>{this._subscribeToResponse(e.id,(i,f)=>{if(i){s(i);return}if(!f)throw new Error(gu);n(f)})})}async sendCustomRequest(e,r){if(!this._connected)throw new Error(Ze);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return ro(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=Er(e.params[0]));break;case"personal_sign":e.params&&(e.params=Ft(e.params));break}const n=this._formatRequest(e);return await this._sendCallRequest(n,r)}approveRequest(e){if(mt(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(_u)}rejectRequest(e){if(Pt(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(mu)}transportClose(){this._transport.close()}async _sendRequest(e,r){const n=this._formatRequest(e),s=await this._encrypt(n),i=typeof(r==null?void 0:r.topic)<"u"?r.topic:this.peerId,f=JSON.stringify(s),h=typeof(r==null?void 0:r.forcePushNotification)<"u"?!r.forcePushNotification:Ga(n);this._transport.send(f,i,h)}async _sendResponse(e){const r=await this._encrypt(e),n=this.peerId,s=JSON.stringify(r),i=!0;this._transport.send(s,n,i)}async _sendSessionRequest(e,r,n){this._sendRequest(e,n),this._subscribeToSessionResponse(e.id,r)}_sendCallRequest(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(vu);return{id:typeof e.id>"u"?Ur():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(wu);const r={id:e.id,jsonrpc:"2.0"};if(Pt(e)){const n=Za(e.error);return Object.assign(Object.assign(Object.assign({},r),e),{error:n})}else if(mt(e))return Object.assign(Object.assign({},r),e);throw new Error(Vn)}_handleSessionDisconnect(e){const r=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),en(Ut)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let n;try{n=JSON.parse(e.payload)}catch{return}const s=await this._decrypt(n);s&&this._eventManager.trigger(s)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,r){this.on(`response:${e}`,r)}_subscribeToSessionResponse(e,r){this._subscribeToResponse(e,(n,s)=>{if(n){this._handleSessionResponse(n.message);return}mt(s)?this._handleSessionResponse(r,s.result):s.error&&s.error.message?this._handleSessionResponse(s.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(e){return new Promise((r,n)=>{this._subscribeToResponse(e,(s,i)=>{if(s){n(s);return}mt(i)?r(i.result):i.error&&i.error.message?n(i.error):n(new Error(Vn))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,r)=>{const{request:n}=r.params[0];if(Fi()&&this._signingMethods.includes(n.method)){const s=Zr(Ut);s&&(window.location.href=s.href)}}),this.on("wc_sessionRequest",(e,r)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(e,r)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,r=this.handshakeTopic,n=this.version,s=encodeURIComponent(this.bridge),i=this.key;return`${e}:${r}@${n}?bridge=${s}&key=${i}`}_parseUri(e){const r=lu(e);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const s=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const i=r.key;return{handshakeTopic:n,bridge:s,key:i}}else throw new Error(bu)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(e,r):null}async _decrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(e,r):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(n,s)=>{if(n)throw n;if(e.peerMeta){const i=s.params[0].peerMeta.name;r.peerName=i}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Nu(t){return pt.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const ao=256,uo=ao,Lu=ao,Ye="AES-CBC",Uu=`SHA-${uo}`,Fr="HMAC",Pu="encrypt",Fu="decrypt",qu="sign",Du="verify";function Hu(t){return t===Ye?{length:uo,name:Ye}:{hash:{name:Uu},name:Fr}}function $u(t){return t===Ye?[Pu,Fu]:[qu,Du]}async function an(t,e=Ye){return pt.getSubtleCrypto().importKey("raw",t,Hu(e),!0,$u(e))}async function Wu(t,e,r){const n=pt.getSubtleCrypto(),s=await an(e,Ye),i=await n.encrypt({iv:t,name:Ye},s,r);return new Uint8Array(i)}async function zu(t,e,r){const n=pt.getSubtleCrypto(),s=await an(e,Ye),i=await n.decrypt({iv:t,name:Ye},s,r);return new Uint8Array(i)}async function ju(t,e){const r=pt.getSubtleCrypto(),n=await an(t,Fr),s=await r.sign({length:Lu,name:Fr},n,e);return new Uint8Array(s)}function Vu(t,e,r){return Wu(t,e,r)}function Ju(t,e,r){return zu(t,e,r)}async function lo(t,e){return await ju(t,e)}async function co(t){const e=(t||256)/8,r=Nu(e);return La(Yt(r))}async function ho(t,e){const r=it(t.data),n=it(t.iv),s=it(t.hmac),i=nt(s,!1),f=eo(r,n),h=await lo(e,f),_=nt(h,!1);return Ke(i)===Ke(_)}async function Ku(t,e,r){const n=ot(Lr(e)),s=r||await co(128),i=ot(Lr(s)),f=nt(i,!1),h=JSON.stringify(t),_=Ca(h),x=await Vu(i,n,_),b=nt(x,!1),T=eo(x,i),O=await lo(n,T),U=nt(O,!1);return{data:b,hmac:U,iv:f}}async function Yu(t,e){const r=ot(Lr(e));if(!r)throw new Error("Missing key: required for decryption");if(!await ho(t,r))return null;const s=it(t.data),i=it(t.iv),f=await Ju(i,r,s),h=Ea(f);let _;try{_=JSON.parse(h)}catch{return null}return _}const Gu=Object.freeze(Object.defineProperty({__proto__:null,decrypt:Yu,encrypt:Ku,generateKey:co,verifyHmac:ho},Symbol.toStringTag,{value:"Module"}));class Qu extends Ou{constructor(e,r){super({cryptoLib:Gu,connectorOpts:e,pushServerOpts:r})}}const Xu=Gr(fa);var St={},Zu=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},fo={},Ge={},el={}.toString,un=Array.isArray||function(t){return el.call(t)=="[object Array]"},tl=un;function rl(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}Z.TYPED_ARRAY_SUPPORT=rl();var Kn=Z.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function Z(t,e,r){return!Z.TYPED_ARRAY_SUPPORT&&!(this instanceof Z)?new Z(t,e,r):typeof t=="number"?po(this,t):ll(this,t,e,r)}Z.TYPED_ARRAY_SUPPORT&&(Z.prototype.__proto__=Uint8Array.prototype,Z.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&Z[Symbol.species]===Z&&Object.defineProperty(Z,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function ln(t){if(t>=Kn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Kn.toString(16)+" bytes");return t|0}function nl(t){return t!==t}function st(t,e){var r;return Z.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=Z.prototype):(r=t,r===null&&(r=new Z(e)),r.length=e),r}function po(t,e){var r=st(t,e<0?0:ln(e)|0);if(!Z.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function il(t,e){var r=_o(e)|0,n=st(t,r),s=n.write(e);return s!==r&&(n=n.slice(0,s)),n}function qr(t,e){for(var r=e.length<0?0:ln(e.length)|0,n=st(t,r),s=0;s<r;s+=1)n[s]=e[s]&255;return n}function ol(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var s;return r===void 0&&n===void 0?s=new Uint8Array(e):n===void 0?s=new Uint8Array(e,r):s=new Uint8Array(e,r,n),Z.TYPED_ARRAY_SUPPORT?s.__proto__=Z.prototype:s=qr(t,s),s}function sl(t,e){if(Z.isBuffer(e)){var r=ln(e.length)|0,n=st(t,r);return n.length===0||e.copy(n,0,0,r),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||nl(e.length)?st(t,0):qr(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return qr(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function go(t,e){e=e||1/0;for(var r,n=t.length,s=null,i=[],f=0;f<n;++f){if(r=t.charCodeAt(f),r>55295&&r<57344){if(!s){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(f+1===n){(e-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(e-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function _o(t){if(Z.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:go(t).length}function al(t,e,r,n){for(var s=0;s<n&&!(s+r>=e.length||s>=t.length);++s)e[s+r]=t[s];return s}function ul(t,e,r,n){return al(go(e,t.length-r),t,r,n)}function ll(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?ol(t,e,r,n):typeof e=="string"?il(t,e):sl(t,e)}Z.prototype.write=function(e,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return ul(this,e,r,n)};Z.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var s;if(Z.TYPED_ARRAY_SUPPORT)s=this.subarray(e,r),s.__proto__=Z.prototype;else{var i=r-e;s=new Z(i,void 0);for(var f=0;f<i;++f)s[f]=this[f+e]}return s};Z.prototype.copy=function(e,r,n,s){if(n||(n=0),!s&&s!==0&&(s=this.length),r>=e.length&&(r=e.length),r||(r=0),s>0&&s<n&&(s=n),s===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-r<s-n&&(s=e.length-r+n);var i=s-n,f;if(this===e&&n<r&&r<s)for(f=i-1;f>=0;--f)e[f+r]=this[f+n];else if(i<1e3||!Z.TYPED_ARRAY_SUPPORT)for(f=0;f<i;++f)e[f+r]=this[f+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),r);return i};Z.prototype.fill=function(e,r,n){if(typeof e=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var i;if(typeof e=="number")for(i=r;i<n;++i)this[i]=e;else{var f=Z.isBuffer(e)?e:new Z(e),h=f.length;for(i=0;i<n-r;++i)this[i+r]=f[i%h]}return this};Z.concat=function(e,r){if(!tl(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return st(null,0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var s=po(null,r),i=0;for(n=0;n<e.length;++n){var f=e[n];if(!Z.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(s,i),i+=f.length}return s};Z.byteLength=_o;Z.prototype._isBuffer=!0;Z.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};Ge.alloc=function(t){var e=new Z(t);return e.fill(0),e};Ge.from=function(t){return new Z(t)};var Pe={},cn,cl=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Pe.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Pe.getSymbolTotalCodewords=function(e){return cl[e]};Pe.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};Pe.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');cn=e};Pe.isKanjiModeEnabled=function(){return typeof cn<"u"};Pe.toSJIS=function(e){return cn(e)};var Gt={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,s){if(t.isValid(n))return n;try{return e(n)}catch{return s}}})(Gt);function mo(){this.buffer=[],this.length=0}mo.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var hl=mo,Yn=Ge;function Ct(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=Yn.alloc(t*t),this.reservedBit=Yn.alloc(t*t)}Ct.prototype.set=function(t,e,r,n){var s=t*this.size+e;this.data[s]=r,n&&(this.reservedBit[s]=!0)};Ct.prototype.get=function(t,e){return this.data[t*this.size+e]};Ct.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Ct.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var fl=Ct,vo={};(function(t){var e=Pe.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];for(var s=Math.floor(n/7)+2,i=e(n),f=i===145?26:Math.ceil((i-13)/(2*s-2))*2,h=[i-7],_=1;_<s-1;_++)h[_]=h[_-1]-f;return h.push(6),h.reverse()},t.getPositions=function(n){for(var s=[],i=t.getRowColCoords(n),f=i.length,h=0;h<f;h++)for(var _=0;_<f;_++)h===0&&_===0||h===0&&_===f-1||h===f-1&&_===0||s.push([i[h],i[_]]);return s}})(vo);var wo={},dl=Pe.getSymbolSize,Gn=7;wo.getPositions=function(e){var r=dl(e);return[[0,0],[r-Gn,0],[0,r-Gn]]};var yo={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){for(var i=s.size,f=0,h=0,_=0,x=null,b=null,T=0;T<i;T++){h=_=0,x=b=null;for(var O=0;O<i;O++){var U=s.get(T,O);U===x?h++:(h>=5&&(f+=e.N1+(h-5)),x=U,h=1),U=s.get(O,T),U===b?_++:(_>=5&&(f+=e.N1+(_-5)),b=U,_=1)}h>=5&&(f+=e.N1+(h-5)),_>=5&&(f+=e.N1+(_-5))}return f},t.getPenaltyN2=function(s){for(var i=s.size,f=0,h=0;h<i-1;h++)for(var _=0;_<i-1;_++){var x=s.get(h,_)+s.get(h,_+1)+s.get(h+1,_)+s.get(h+1,_+1);(x===4||x===0)&&f++}return f*e.N2},t.getPenaltyN3=function(s){for(var i=s.size,f=0,h=0,_=0,x=0;x<i;x++){h=_=0;for(var b=0;b<i;b++)h=h<<1&2047|s.get(x,b),b>=10&&(h===1488||h===93)&&f++,_=_<<1&2047|s.get(b,x),b>=10&&(_===1488||_===93)&&f++}return f*e.N3},t.getPenaltyN4=function(s){for(var i=0,f=s.data.length,h=0;h<f;h++)i+=s.data[h];var _=Math.abs(Math.ceil(i*100/f/5)-10);return _*e.N4};function r(n,s,i){switch(n){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(s,i){for(var f=i.size,h=0;h<f;h++)for(var _=0;_<f;_++)i.isReserved(_,h)||i.xor(_,h,r(s,_,h))},t.getBestMask=function(s,i){for(var f=Object.keys(t.Patterns).length,h=0,_=1/0,x=0;x<f;x++){i(x),t.applyMask(x,s);var b=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(x,s),b<_&&(_=b,h=x)}return h}})(yo);var Qt={},Ve=Gt,At=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Bt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Qt.getBlocksCount=function(e,r){switch(r){case Ve.L:return At[(e-1)*4+0];case Ve.M:return At[(e-1)*4+1];case Ve.Q:return At[(e-1)*4+2];case Ve.H:return At[(e-1)*4+3];default:return}};Qt.getTotalCodewordsCount=function(e,r){switch(r){case Ve.L:return Bt[(e-1)*4+0];case Ve.M:return Bt[(e-1)*4+1];case Ve.Q:return Bt[(e-1)*4+2];case Ve.H:return Bt[(e-1)*4+3];default:return}};var bo={},Xt={},Mo=Ge,vt=Mo.alloc(512),qt=Mo.alloc(256);(function(){for(var e=1,r=0;r<255;r++)vt[r]=e,qt[e]=r,e<<=1,e&256&&(e^=285);for(r=255;r<512;r++)vt[r]=vt[r-255]})();Xt.log=function(e){if(e<1)throw new Error("log("+e+")");return qt[e]};Xt.exp=function(e){return vt[e]};Xt.mul=function(e,r){return e===0||r===0?0:vt[qt[e]+qt[r]]};(function(t){var e=Ge,r=Xt;t.mul=function(s,i){for(var f=e.alloc(s.length+i.length-1),h=0;h<s.length;h++)for(var _=0;_<i.length;_++)f[h+_]^=r.mul(s[h],i[_]);return f},t.mod=function(s,i){for(var f=e.from(s);f.length-i.length>=0;){for(var h=f[0],_=0;_<i.length;_++)f[_]^=r.mul(i[_],h);for(var x=0;x<f.length&&f[x]===0;)x++;f=f.slice(x)}return f},t.generateECPolynomial=function(s){for(var i=e.from([1]),f=0;f<s;f++)i=t.mul(i,[1,r.exp(f)]);return i}})(bo);var xo={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=xs,r=Es,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=i(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var g=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(g,u),g.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function f(g){if(g>s)throw new RangeError('The value "'+g+'" is invalid for option "size"');var u=new Uint8Array(g);return Object.setPrototypeOf(u,h.prototype),u}function h(g,u,l){if(typeof g=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(g)}return _(g,u,l)}h.poolSize=8192;function _(g,u,l){if(typeof g=="string")return O(g,u);if(ArrayBuffer.isView(g))return L(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(Ue(g,ArrayBuffer)||g&&Ue(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ue(g,SharedArrayBuffer)||g&&Ue(g.buffer,SharedArrayBuffer)))return F(g,u,l);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var y=g.valueOf&&g.valueOf();if(y!=null&&y!==g)return h.from(y,u,l);var C=E(g);if(C)return C;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return h.from(g[Symbol.toPrimitive]("string"),u,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}h.from=function(g,u,l){return _(g,u,l)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function x(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function b(g,u,l){return x(g),g<=0?f(g):u!==void 0?typeof l=="string"?f(g).fill(u,l):f(g).fill(u):f(g)}h.alloc=function(g,u,l){return b(g,u,l)};function T(g){return x(g),f(g<0?0:k(g)|0)}h.allocUnsafe=function(g){return T(g)},h.allocUnsafeSlow=function(g){return T(g)};function O(g,u){if((typeof u!="string"||u==="")&&(u="utf8"),!h.isEncoding(u))throw new TypeError("Unknown encoding: "+u);var l=R(g,u)|0,y=f(l),C=y.write(g,u);return C!==l&&(y=y.slice(0,C)),y}function U(g){for(var u=g.length<0?0:k(g.length)|0,l=f(u),y=0;y<u;y+=1)l[y]=g[y]&255;return l}function L(g){if(Ue(g,Uint8Array)){var u=new Uint8Array(g);return F(u.buffer,u.byteOffset,u.byteLength)}return U(g)}function F(g,u,l){if(u<0||g.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<u+(l||0))throw new RangeError('"length" is outside of buffer bounds');var y;return u===void 0&&l===void 0?y=new Uint8Array(g):l===void 0?y=new Uint8Array(g,u):y=new Uint8Array(g,u,l),Object.setPrototypeOf(y,h.prototype),y}function E(g){if(h.isBuffer(g)){var u=k(g.length)|0,l=f(u);return l.length===0||g.copy(l,0,0,u),l}if(g.length!==void 0)return typeof g.length!="number"||ue(g.length)?f(0):U(g);if(g.type==="Buffer"&&Array.isArray(g.data))return U(g.data)}function k(g){if(g>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return g|0}function A(g){return+g!=g&&(g=0),h.alloc(+g)}h.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==h.prototype},h.compare=function(u,l){if(Ue(u,Uint8Array)&&(u=h.from(u,u.offset,u.byteLength)),Ue(l,Uint8Array)&&(l=h.from(l,l.offset,l.byteLength)),!h.isBuffer(u)||!h.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===l)return 0;for(var y=u.length,C=l.length,B=0,P=Math.min(y,C);B<P;++B)if(u[B]!==l[B]){y=u[B],C=l[B];break}return y<C?-1:C<y?1:0},h.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(u,l){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return h.alloc(0);var y;if(l===void 0)for(l=0,y=0;y<u.length;++y)l+=u[y].length;var C=h.allocUnsafe(l),B=0;for(y=0;y<u.length;++y){var P=u[y];if(Ue(P,Uint8Array))B+P.length>C.length?h.from(P).copy(C,B):Uint8Array.prototype.set.call(C,P,B);else if(h.isBuffer(P))P.copy(C,B);else throw new TypeError('"list" argument must be an Array of Buffers');B+=P.length}return C};function R(g,u){if(h.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||Ue(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);var l=g.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&l===0)return 0;for(var C=!1;;)switch(u){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return te(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return le(g).length;default:if(C)return y?-1:te(g).length;u=(""+u).toLowerCase(),C=!0}}h.byteLength=R;function N(g,u,l){var y=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,u>>>=0,l<=u))return"";for(g||(g="utf8");;)switch(g){case"hex":return a(this,u,l);case"utf8":case"utf-8":return p(this,u,l);case"ascii":return I(this,u,l);case"latin1":case"binary":return m(this,u,l);case"base64":return d(this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,u,l);default:if(y)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),y=!0}}h.prototype._isBuffer=!0;function H(g,u,l){var y=g[u];g[u]=g[l],g[l]=y}h.prototype.swap16=function(){var u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var l=0;l<u;l+=2)H(this,l,l+1);return this},h.prototype.swap32=function(){var u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var l=0;l<u;l+=4)H(this,l,l+3),H(this,l+1,l+2);return this},h.prototype.swap64=function(){var u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var l=0;l<u;l+=8)H(this,l,l+7),H(this,l+1,l+6),H(this,l+2,l+5),H(this,l+3,l+4);return this},h.prototype.toString=function(){var u=this.length;return u===0?"":arguments.length===0?p(this,0,u):N.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(u){if(!h.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:h.compare(this,u)===0},h.prototype.inspect=function(){var u="",l=t.INSPECT_MAX_BYTES;return u=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(u+=" ... "),"<Buffer "+u+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(u,l,y,C,B){if(Ue(u,Uint8Array)&&(u=h.from(u,u.offset,u.byteLength)),!h.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(l===void 0&&(l=0),y===void 0&&(y=u?u.length:0),C===void 0&&(C=0),B===void 0&&(B=this.length),l<0||y>u.length||C<0||B>this.length)throw new RangeError("out of range index");if(C>=B&&l>=y)return 0;if(C>=B)return-1;if(l>=y)return 1;if(l>>>=0,y>>>=0,C>>>=0,B>>>=0,this===u)return 0;for(var P=B-C,j=y-l,V=Math.min(P,j),ne=this.slice(C,B),X=u.slice(l,y),Q=0;Q<V;++Q)if(ne[Q]!==X[Q]){P=ne[Q],j=X[Q];break}return P<j?-1:j<P?1:0};function W(g,u,l,y,C){if(g.length===0)return-1;if(typeof l=="string"?(y=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,ue(l)&&(l=C?0:g.length-1),l<0&&(l=g.length+l),l>=g.length){if(C)return-1;l=g.length-1}else if(l<0)if(C)l=0;else return-1;if(typeof u=="string"&&(u=h.from(u,y)),h.isBuffer(u))return u.length===0?-1:K(g,u,l,y,C);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(g,u,l):Uint8Array.prototype.lastIndexOf.call(g,u,l):K(g,[u],l,y,C);throw new TypeError("val must be string, number or Buffer")}function K(g,u,l,y,C){var B=1,P=g.length,j=u.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(g.length<2||u.length<2)return-1;B=2,P/=2,j/=2,l/=2}function V(ce,he){return B===1?ce[he]:ce.readUInt16BE(he*B)}var ne;if(C){var X=-1;for(ne=l;ne<P;ne++)if(V(g,ne)===V(u,X===-1?0:ne-X)){if(X===-1&&(X=ne),ne-X+1===j)return X*B}else X!==-1&&(ne-=ne-X),X=-1}else for(l+j>P&&(l=P-j),ne=l;ne>=0;ne--){for(var Q=!0,Xe=0;Xe<j;Xe++)if(V(g,ne+Xe)!==V(u,Xe)){Q=!1;break}if(Q)return ne}return-1}h.prototype.includes=function(u,l,y){return this.indexOf(u,l,y)!==-1},h.prototype.indexOf=function(u,l,y){return W(this,u,l,y,!0)},h.prototype.lastIndexOf=function(u,l,y){return W(this,u,l,y,!1)};function Y(g,u,l,y){l=Number(l)||0;var C=g.length-l;y?(y=Number(y),y>C&&(y=C)):y=C;var B=u.length;y>B/2&&(y=B/2);for(var P=0;P<y;++P){var j=parseInt(u.substr(P*2,2),16);if(ue(j))return P;g[l+P]=j}return P}function se(g,u,l,y){return ae(te(u,g.length-l),g,l,y)}function M(g,u,l,y){return ae(ie(u),g,l,y)}function o(g,u,l,y){return ae(le(u),g,l,y)}function c(g,u,l,y){return ae(It(u,g.length-l),g,l,y)}h.prototype.write=function(u,l,y,C){if(l===void 0)C="utf8",y=this.length,l=0;else if(y===void 0&&typeof l=="string")C=l,y=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(y)?(y=y>>>0,C===void 0&&(C="utf8")):(C=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var B=this.length-l;if((y===void 0||y>B)&&(y=B),u.length>0&&(y<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");for(var P=!1;;)switch(C){case"hex":return Y(this,u,l,y);case"utf8":case"utf-8":return se(this,u,l,y);case"ascii":case"latin1":case"binary":return M(this,u,l,y);case"base64":return o(this,u,l,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c(this,u,l,y);default:if(P)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),P=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function d(g,u,l){return u===0&&l===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(u,l))}function p(g,u,l){l=Math.min(g.length,l);for(var y=[],C=u;C<l;){var B=g[C],P=null,j=B>239?4:B>223?3:B>191?2:1;if(C+j<=l){var V,ne,X,Q;switch(j){case 1:B<128&&(P=B);break;case 2:V=g[C+1],(V&192)===128&&(Q=(B&31)<<6|V&63,Q>127&&(P=Q));break;case 3:V=g[C+1],ne=g[C+2],(V&192)===128&&(ne&192)===128&&(Q=(B&15)<<12|(V&63)<<6|ne&63,Q>2047&&(Q<55296||Q>57343)&&(P=Q));break;case 4:V=g[C+1],ne=g[C+2],X=g[C+3],(V&192)===128&&(ne&192)===128&&(X&192)===128&&(Q=(B&15)<<18|(V&63)<<12|(ne&63)<<6|X&63,Q>65535&&Q<1114112&&(P=Q))}}P===null?(P=65533,j=1):P>65535&&(P-=65536,y.push(P>>>10&1023|55296),P=56320|P&1023),y.push(P),C+=j}return S(y)}var w=4096;function S(g){var u=g.length;if(u<=w)return String.fromCharCode.apply(String,g);for(var l="",y=0;y<u;)l+=String.fromCharCode.apply(String,g.slice(y,y+=w));return l}function I(g,u,l){var y="";l=Math.min(g.length,l);for(var C=u;C<l;++C)y+=String.fromCharCode(g[C]&127);return y}function m(g,u,l){var y="";l=Math.min(g.length,l);for(var C=u;C<l;++C)y+=String.fromCharCode(g[C]);return y}function a(g,u,l){var y=g.length;(!u||u<0)&&(u=0),(!l||l<0||l>y)&&(l=y);for(var C="",B=u;B<l;++B)C+=fe[g[B]];return C}function v(g,u,l){for(var y=g.slice(u,l),C="",B=0;B<y.length-1;B+=2)C+=String.fromCharCode(y[B]+y[B+1]*256);return C}h.prototype.slice=function(u,l){var y=this.length;u=~~u,l=l===void 0?y:~~l,u<0?(u+=y,u<0&&(u=0)):u>y&&(u=y),l<0?(l+=y,l<0&&(l=0)):l>y&&(l=y),l<u&&(l=u);var C=this.subarray(u,l);return Object.setPrototypeOf(C,h.prototype),C};function q(g,u,l){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+u>l)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(u,l,y){u=u>>>0,l=l>>>0,y||q(u,l,this.length);for(var C=this[u],B=1,P=0;++P<l&&(B*=256);)C+=this[u+P]*B;return C},h.prototype.readUintBE=h.prototype.readUIntBE=function(u,l,y){u=u>>>0,l=l>>>0,y||q(u,l,this.length);for(var C=this[u+--l],B=1;l>0&&(B*=256);)C+=this[u+--l]*B;return C},h.prototype.readUint8=h.prototype.readUInt8=function(u,l){return u=u>>>0,l||q(u,1,this.length),this[u]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(u,l){return u=u>>>0,l||q(u,2,this.length),this[u]|this[u+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(u,l){return u=u>>>0,l||q(u,2,this.length),this[u]<<8|this[u+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(u,l){return u=u>>>0,l||q(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(u,l){return u=u>>>0,l||q(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},h.prototype.readIntLE=function(u,l,y){u=u>>>0,l=l>>>0,y||q(u,l,this.length);for(var C=this[u],B=1,P=0;++P<l&&(B*=256);)C+=this[u+P]*B;return B*=128,C>=B&&(C-=Math.pow(2,8*l)),C},h.prototype.readIntBE=function(u,l,y){u=u>>>0,l=l>>>0,y||q(u,l,this.length);for(var C=l,B=1,P=this[u+--C];C>0&&(B*=256);)P+=this[u+--C]*B;return B*=128,P>=B&&(P-=Math.pow(2,8*l)),P},h.prototype.readInt8=function(u,l){return u=u>>>0,l||q(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},h.prototype.readInt16LE=function(u,l){u=u>>>0,l||q(u,2,this.length);var y=this[u]|this[u+1]<<8;return y&32768?y|4294901760:y},h.prototype.readInt16BE=function(u,l){u=u>>>0,l||q(u,2,this.length);var y=this[u+1]|this[u]<<8;return y&32768?y|4294901760:y},h.prototype.readInt32LE=function(u,l){return u=u>>>0,l||q(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},h.prototype.readInt32BE=function(u,l){return u=u>>>0,l||q(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},h.prototype.readFloatLE=function(u,l){return u=u>>>0,l||q(u,4,this.length),r.read(this,u,!0,23,4)},h.prototype.readFloatBE=function(u,l){return u=u>>>0,l||q(u,4,this.length),r.read(this,u,!1,23,4)},h.prototype.readDoubleLE=function(u,l){return u=u>>>0,l||q(u,8,this.length),r.read(this,u,!0,52,8)},h.prototype.readDoubleBE=function(u,l){return u=u>>>0,l||q(u,8,this.length),r.read(this,u,!1,52,8)};function D(g,u,l,y,C,B){if(!h.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>C||u<B)throw new RangeError('"value" argument is out of bounds');if(l+y>g.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(u,l,y,C){if(u=+u,l=l>>>0,y=y>>>0,!C){var B=Math.pow(2,8*y)-1;D(this,u,l,y,B,0)}var P=1,j=0;for(this[l]=u&255;++j<y&&(P*=256);)this[l+j]=u/P&255;return l+y},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(u,l,y,C){if(u=+u,l=l>>>0,y=y>>>0,!C){var B=Math.pow(2,8*y)-1;D(this,u,l,y,B,0)}var P=y-1,j=1;for(this[l+P]=u&255;--P>=0&&(j*=256);)this[l+P]=u/j&255;return l+y},h.prototype.writeUint8=h.prototype.writeUInt8=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,1,255,0),this[l]=u&255,l+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,2,65535,0),this[l]=u&255,this[l+1]=u>>>8,l+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,2,65535,0),this[l]=u>>>8,this[l+1]=u&255,l+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,4,4294967295,0),this[l+3]=u>>>24,this[l+2]=u>>>16,this[l+1]=u>>>8,this[l]=u&255,l+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,4,4294967295,0),this[l]=u>>>24,this[l+1]=u>>>16,this[l+2]=u>>>8,this[l+3]=u&255,l+4},h.prototype.writeIntLE=function(u,l,y,C){if(u=+u,l=l>>>0,!C){var B=Math.pow(2,8*y-1);D(this,u,l,y,B-1,-B)}var P=0,j=1,V=0;for(this[l]=u&255;++P<y&&(j*=256);)u<0&&V===0&&this[l+P-1]!==0&&(V=1),this[l+P]=(u/j>>0)-V&255;return l+y},h.prototype.writeIntBE=function(u,l,y,C){if(u=+u,l=l>>>0,!C){var B=Math.pow(2,8*y-1);D(this,u,l,y,B-1,-B)}var P=y-1,j=1,V=0;for(this[l+P]=u&255;--P>=0&&(j*=256);)u<0&&V===0&&this[l+P+1]!==0&&(V=1),this[l+P]=(u/j>>0)-V&255;return l+y},h.prototype.writeInt8=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,1,127,-128),u<0&&(u=255+u+1),this[l]=u&255,l+1},h.prototype.writeInt16LE=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,2,32767,-32768),this[l]=u&255,this[l+1]=u>>>8,l+2},h.prototype.writeInt16BE=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,2,32767,-32768),this[l]=u>>>8,this[l+1]=u&255,l+2},h.prototype.writeInt32LE=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,4,2147483647,-2147483648),this[l]=u&255,this[l+1]=u>>>8,this[l+2]=u>>>16,this[l+3]=u>>>24,l+4},h.prototype.writeInt32BE=function(u,l,y){return u=+u,l=l>>>0,y||D(this,u,l,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[l]=u>>>24,this[l+1]=u>>>16,this[l+2]=u>>>8,this[l+3]=u&255,l+4};function z(g,u,l,y,C,B){if(l+y>g.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function G(g,u,l,y,C){return u=+u,l=l>>>0,C||z(g,u,l,4),r.write(g,u,l,y,23,4),l+4}h.prototype.writeFloatLE=function(u,l,y){return G(this,u,l,!0,y)},h.prototype.writeFloatBE=function(u,l,y){return G(this,u,l,!1,y)};function ee(g,u,l,y,C){return u=+u,l=l>>>0,C||z(g,u,l,8),r.write(g,u,l,y,52,8),l+8}h.prototype.writeDoubleLE=function(u,l,y){return ee(this,u,l,!0,y)},h.prototype.writeDoubleBE=function(u,l,y){return ee(this,u,l,!1,y)},h.prototype.copy=function(u,l,y,C){if(!h.isBuffer(u))throw new TypeError("argument should be a Buffer");if(y||(y=0),!C&&C!==0&&(C=this.length),l>=u.length&&(l=u.length),l||(l=0),C>0&&C<y&&(C=y),C===y||u.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),u.length-l<C-y&&(C=u.length-l+y);var B=C-y;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,y,C):Uint8Array.prototype.set.call(u,this.subarray(y,C),l),B},h.prototype.fill=function(u,l,y,C){if(typeof u=="string"){if(typeof l=="string"?(C=l,l=0,y=this.length):typeof y=="string"&&(C=y,y=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!h.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(u.length===1){var B=u.charCodeAt(0);(C==="utf8"&&B<128||C==="latin1")&&(u=B)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(l<0||this.length<l||this.length<y)throw new RangeError("Out of range index");if(y<=l)return this;l=l>>>0,y=y===void 0?this.length:y>>>0,u||(u=0);var P;if(typeof u=="number")for(P=l;P<y;++P)this[P]=u;else{var j=h.isBuffer(u)?u:h.from(u,C),V=j.length;if(V===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(P=0;P<y-l;++P)this[P+l]=j[P%V]}return this};var re=/[^+/0-9A-Za-z-_]/g;function qe(g){if(g=g.split("=")[0],g=g.trim().replace(re,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function te(g,u){u=u||1/0;for(var l,y=g.length,C=null,B=[],P=0;P<y;++P){if(l=g.charCodeAt(P),l>55295&&l<57344){if(!C){if(l>56319){(u-=3)>-1&&B.push(239,191,189);continue}else if(P+1===y){(u-=3)>-1&&B.push(239,191,189);continue}C=l;continue}if(l<56320){(u-=3)>-1&&B.push(239,191,189),C=l;continue}l=(C-55296<<10|l-56320)+65536}else C&&(u-=3)>-1&&B.push(239,191,189);if(C=null,l<128){if((u-=1)<0)break;B.push(l)}else if(l<2048){if((u-=2)<0)break;B.push(l>>6|192,l&63|128)}else if(l<65536){if((u-=3)<0)break;B.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((u-=4)<0)break;B.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return B}function ie(g){for(var u=[],l=0;l<g.length;++l)u.push(g.charCodeAt(l)&255);return u}function It(g,u){for(var l,y,C,B=[],P=0;P<g.length&&!((u-=2)<0);++P)l=g.charCodeAt(P),y=l>>8,C=l%256,B.push(C),B.push(y);return B}function le(g){return e.toByteArray(qe(g))}function ae(g,u,l,y){for(var C=0;C<y&&!(C+l>=u.length||C>=g.length);++C)u[C+l]=g[C];return C}function Ue(g,u){return g instanceof u||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===u.name}function ue(g){return g!==g}var fe=function(){for(var g="0123456789abcdef",u=new Array(256),l=0;l<16;++l)for(var y=l*16,C=0;C<16;++C)u[y+C]=g[l]+g[C];return u}()})(xo);var Qn=Ge,Eo=bo,pl=xo.Buffer;function hn(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}hn.prototype.initialize=function(e){this.degree=e,this.genPoly=Eo.generateECPolynomial(this.degree)};hn.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var r=Qn.alloc(this.degree),n=pl.concat([e,r],e.length+this.degree),s=Eo.mod(n,this.genPoly),i=this.degree-s.length;if(i>0){var f=Qn.alloc(this.degree);return s.copy(f,i),f}return s};var gl=hn,So={},Qe={},fn={};fn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var De={},Co="[0-9]+",_l="[A-Z $%*+\\-./:]+",bt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";bt=bt.replace(/u/g,"\\u");var ml="(?:(?![A-Z0-9 $%*+\\-./:]|"+bt+`)(?:.|[\r
]))+`;De.KANJI=new RegExp(bt,"g");De.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");De.BYTE=new RegExp(ml,"g");De.NUMERIC=new RegExp(Co,"g");De.ALPHANUMERIC=new RegExp(_l,"g");var vl=new RegExp("^"+bt+"$"),wl=new RegExp("^"+Co+"$"),yl=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");De.testKanji=function(e){return vl.test(e)};De.testNumeric=function(e){return wl.test(e)};De.testAlphanumeric=function(e){return yl.test(e)};(function(t){var e=fn,r=De;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,f){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?i.ccBits[0]:f<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return r.testNumeric(i)?t.NUMERIC:r.testAlphanumeric(i)?t.ALPHANUMERIC:r.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");var i=s.toLowerCase();switch(i){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,f){if(t.isValid(i))return i;try{return n(i)}catch{return f}}})(Qe);(function(t){var e=Pe,r=Qt,n=Gt,s=Qe,i=fn,f=un,h=7973,_=e.getBCHDigit(h);function x(U,L,F){for(var E=1;E<=40;E++)if(L<=t.getCapacity(E,F,U))return E}function b(U,L){return s.getCharCountIndicator(U,L)+4}function T(U,L){var F=0;return U.forEach(function(E){var k=b(E.mode,L);F+=k+E.getBitsLength()}),F}function O(U,L){for(var F=1;F<=40;F++){var E=T(U,F);if(E<=t.getCapacity(F,L,s.MIXED))return F}}t.from=function(L,F){return i.isValid(L)?parseInt(L,10):F},t.getCapacity=function(L,F,E){if(!i.isValid(L))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=s.BYTE);var k=e.getSymbolTotalCodewords(L),A=r.getTotalCodewordsCount(L,F),R=(k-A)*8;if(E===s.MIXED)return R;var N=R-b(E,L);switch(E){case s.NUMERIC:return Math.floor(N/10*3);case s.ALPHANUMERIC:return Math.floor(N/11*2);case s.KANJI:return Math.floor(N/13);case s.BYTE:default:return Math.floor(N/8)}},t.getBestVersionForData=function(L,F){var E,k=n.from(F,n.M);if(f(L)){if(L.length>1)return O(L,k);if(L.length===0)return 1;E=L[0]}else E=L;return x(E.mode,E.getLength(),k)},t.getEncodedBits=function(L){if(!i.isValid(L)||L<7)throw new Error("Invalid QR Code version");for(var F=L<<12;e.getBCHDigit(F)-_>=0;)F^=h<<e.getBCHDigit(F)-_;return L<<12|F}})(So);var ko={},Dr=Pe,Ro=1335,bl=21522,Xn=Dr.getBCHDigit(Ro);ko.getEncodedBits=function(e,r){for(var n=e.bit<<3|r,s=n<<10;Dr.getBCHDigit(s)-Xn>=0;)s^=Ro<<Dr.getBCHDigit(s)-Xn;return(n<<10|s)^bl};var Io={},Ml=Qe;function at(t){this.mode=Ml.NUMERIC,this.data=t.toString()}at.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};at.prototype.getLength=function(){return this.data.length};at.prototype.getBitsLength=function(){return at.getBitsLength(this.data.length)};at.prototype.write=function(e){var r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),e.put(s,10);var i=this.data.length-r;i>0&&(n=this.data.substr(r),s=parseInt(n,10),e.put(s,i*3+1))};var xl=at,El=Qe,Cr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ut(t){this.mode=El.ALPHANUMERIC,this.data=t}ut.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ut.prototype.getLength=function(){return this.data.length};ut.prototype.getBitsLength=function(){return ut.getBitsLength(this.data.length)};ut.prototype.write=function(e){var r;for(r=0;r+2<=this.data.length;r+=2){var n=Cr.indexOf(this.data[r])*45;n+=Cr.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Cr.indexOf(this.data[r]),6)};var Sl=ut,Cl=Ge,kl=Qe;function lt(t){this.mode=kl.BYTE,this.data=Cl.from(t)}lt.getBitsLength=function(e){return e*8};lt.prototype.getLength=function(){return this.data.length};lt.prototype.getBitsLength=function(){return lt.getBitsLength(this.data.length)};lt.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var Rl=lt,Il=Qe,Tl=Pe;function ct(t){this.mode=Il.KANJI,this.data=t}ct.getBitsLength=function(e){return e*13};ct.prototype.getLength=function(){return this.data.length};ct.prototype.getBitsLength=function(){return ct.getBitsLength(this.data.length)};ct.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=Tl.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Al=ct,To={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,s){var i={},f={};f[n]=0;var h=e.PriorityQueue.make();h.push(n,0);for(var _,x,b,T,O,U,L,F,E;!h.empty();){_=h.pop(),x=_.value,T=_.cost,O=r[x]||{};for(b in O)O.hasOwnProperty(b)&&(U=O[b],L=T+U,F=f[b],E=typeof f[b]>"u",(E||F>L)&&(f[b]=L,h.push(b,L),i[b]=x))}if(typeof s<"u"&&typeof f[s]>"u"){var k=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(k)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var s=[],i=n;i;)s.push(i),r[i],i=r[i];return s.reverse(),s},find_path:function(r,n,s){var i=e.single_source_shortest_paths(r,n,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,s={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=r.sorter||n.default_sorter,s},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var s={value:r,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(To);var Bl=To.exports;(function(t){var e=Qe,r=xl,n=Sl,s=Rl,i=Al,f=De,h=Pe,_=Bl;function x(k){return unescape(encodeURIComponent(k)).length}function b(k,A,R){for(var N=[],H;(H=k.exec(R))!==null;)N.push({data:H[0],index:H.index,mode:A,length:H[0].length});return N}function T(k){var A=b(f.NUMERIC,e.NUMERIC,k),R=b(f.ALPHANUMERIC,e.ALPHANUMERIC,k),N,H;h.isKanjiModeEnabled()?(N=b(f.BYTE,e.BYTE,k),H=b(f.KANJI,e.KANJI,k)):(N=b(f.BYTE_KANJI,e.BYTE,k),H=[]);var W=A.concat(R,N,H);return W.sort(function(K,Y){return K.index-Y.index}).map(function(K){return{data:K.data,mode:K.mode,length:K.length}})}function O(k,A){switch(A){case e.NUMERIC:return r.getBitsLength(k);case e.ALPHANUMERIC:return n.getBitsLength(k);case e.KANJI:return i.getBitsLength(k);case e.BYTE:return s.getBitsLength(k)}}function U(k){return k.reduce(function(A,R){var N=A.length-1>=0?A[A.length-1]:null;return N&&N.mode===R.mode?(A[A.length-1].data+=R.data,A):(A.push(R),A)},[])}function L(k){for(var A=[],R=0;R<k.length;R++){var N=k[R];switch(N.mode){case e.NUMERIC:A.push([N,{data:N.data,mode:e.ALPHANUMERIC,length:N.length},{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.ALPHANUMERIC:A.push([N,{data:N.data,mode:e.BYTE,length:N.length}]);break;case e.KANJI:A.push([N,{data:N.data,mode:e.BYTE,length:x(N.data)}]);break;case e.BYTE:A.push([{data:N.data,mode:e.BYTE,length:x(N.data)}])}}return A}function F(k,A){for(var R={},N={start:{}},H=["start"],W=0;W<k.length;W++){for(var K=k[W],Y=[],se=0;se<K.length;se++){var M=K[se],o=""+W+se;Y.push(o),R[o]={node:M,lastCount:0},N[o]={};for(var c=0;c<H.length;c++){var d=H[c];R[d]&&R[d].node.mode===M.mode?(N[d][o]=O(R[d].lastCount+M.length,M.mode)-O(R[d].lastCount,M.mode),R[d].lastCount+=M.length):(R[d]&&(R[d].lastCount=M.length),N[d][o]=O(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,A))}}H=Y}for(c=0;c<H.length;c++)N[H[c]].end=0;return{map:N,table:R}}function E(k,A){var R,N=e.getBestModeForData(k);if(R=e.from(A,N),R!==e.BYTE&&R.bit<N.bit)throw new Error('"'+k+'" cannot be encoded with mode '+e.toString(R)+`.
 Suggested mode is: `+e.toString(N));switch(R===e.KANJI&&!h.isKanjiModeEnabled()&&(R=e.BYTE),R){case e.NUMERIC:return new r(k);case e.ALPHANUMERIC:return new n(k);case e.KANJI:return new i(k);case e.BYTE:return new s(k)}}t.fromArray=function(A){return A.reduce(function(R,N){return typeof N=="string"?R.push(E(N,null)):N.data&&R.push(E(N.data,N.mode)),R},[])},t.fromString=function(A,R){for(var N=T(A,h.isKanjiModeEnabled()),H=L(N),W=F(H,R),K=_.find_path(W.map,"start","end"),Y=[],se=1;se<K.length-1;se++)Y.push(W.table[K[se]].node);return t.fromArray(U(Y))},t.rawSplit=function(A){return t.fromArray(T(A,h.isKanjiModeEnabled()))}})(Io);var Zn=Ge,Zt=Pe,kr=Gt,Ol=hl,Nl=fl,Ll=vo,Ul=wo,Hr=yo,$r=Qt,Pl=gl,Dt=So,Fl=ko,ql=Qe,Rr=Io,Dl=un;function Hl(t,e){for(var r=t.size,n=Ul.getPositions(e),s=0;s<n.length;s++)for(var i=n[s][0],f=n[s][1],h=-1;h<=7;h++)if(!(i+h<=-1||r<=i+h))for(var _=-1;_<=7;_++)f+_<=-1||r<=f+_||(h>=0&&h<=6&&(_===0||_===6)||_>=0&&_<=6&&(h===0||h===6)||h>=2&&h<=4&&_>=2&&_<=4?t.set(i+h,f+_,!0,!0):t.set(i+h,f+_,!1,!0))}function $l(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Wl(t,e){for(var r=Ll.getPositions(e),n=0;n<r.length;n++)for(var s=r[n][0],i=r[n][1],f=-2;f<=2;f++)for(var h=-2;h<=2;h++)f===-2||f===2||h===-2||h===2||f===0&&h===0?t.set(s+f,i+h,!0,!0):t.set(s+f,i+h,!1,!0)}function zl(t,e){for(var r=t.size,n=Dt.getEncodedBits(e),s,i,f,h=0;h<18;h++)s=Math.floor(h/3),i=h%3+r-8-3,f=(n>>h&1)===1,t.set(s,i,f,!0),t.set(i,s,f,!0)}function Ir(t,e,r){var n=t.size,s=Fl.getEncodedBits(e,r),i,f;for(i=0;i<15;i++)f=(s>>i&1)===1,i<6?t.set(i,8,f,!0):i<8?t.set(i+1,8,f,!0):t.set(n-15+i,8,f,!0),i<8?t.set(8,n-i-1,f,!0):i<9?t.set(8,15-i-1+1,f,!0):t.set(8,15-i-1,f,!0);t.set(n-8,8,1,!0)}function jl(t,e){for(var r=t.size,n=-1,s=r-1,i=7,f=0,h=r-1;h>0;h-=2)for(h===6&&h--;;){for(var _=0;_<2;_++)if(!t.isReserved(s,h-_)){var x=!1;f<e.length&&(x=(e[f]>>>i&1)===1),t.set(s,h-_,x),i--,i===-1&&(f++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function Vl(t,e,r){var n=new Ol;r.forEach(function(x){n.put(x.mode.bit,4),n.put(x.getLength(),ql.getCharCountIndicator(x.mode,t)),x.write(n)});var s=Zt.getSymbolTotalCodewords(t),i=$r.getTotalCodewordsCount(t,e),f=(s-i)*8;for(n.getLengthInBits()+4<=f&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var h=(f-n.getLengthInBits())/8,_=0;_<h;_++)n.put(_%2?17:236,8);return Jl(n,t,e)}function Jl(t,e,r){for(var n=Zt.getSymbolTotalCodewords(e),s=$r.getTotalCodewordsCount(e,r),i=n-s,f=$r.getBlocksCount(e,r),h=n%f,_=f-h,x=Math.floor(n/f),b=Math.floor(i/f),T=b+1,O=x-b,U=new Pl(O),L=0,F=new Array(f),E=new Array(f),k=0,A=Zn.from(t.buffer),R=0;R<f;R++){var N=R<_?b:T;F[R]=A.slice(L,L+N),E[R]=U.encode(F[R]),L+=N,k=Math.max(k,N)}var H=Zn.alloc(n),W=0,K,Y;for(K=0;K<k;K++)for(Y=0;Y<f;Y++)K<F[Y].length&&(H[W++]=F[Y][K]);for(K=0;K<O;K++)for(Y=0;Y<f;Y++)H[W++]=E[Y][K];return H}function Kl(t,e,r,n){var s;if(Dl(t))s=Rr.fromArray(t);else if(typeof t=="string"){var i=e;if(!i){var f=Rr.rawSplit(t);i=Dt.getBestVersionForData(f,r)}s=Rr.fromString(t,i||40)}else throw new Error("Invalid data");var h=Dt.getBestVersionForData(s,r);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=h;else if(e<h)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+h+`.
`);var _=Vl(e,r,s),x=Zt.getSymbolSize(e),b=new Nl(x);return Hl(b,e),$l(b),Wl(b,e),Ir(b,r,0),e>=7&&zl(b,e),jl(b,_),isNaN(n)&&(n=Hr.getBestMask(b,Ir.bind(null,b,r))),Hr.applyMask(n,b),Ir(b,r,n),{modules:b,version:e,errorCorrectionLevel:r,maskPattern:n,segments:s}}fo.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");var n=kr.M,s,i;return typeof r<"u"&&(n=kr.from(r.errorCorrectionLevel,kr.M),s=Dt.from(r.version),i=Hr.from(r.maskPattern),r.toSJISFunc&&Zt.setToSJISFunction(r.toSJISFunc)),Kl(e,s,n,i)};var Ao={},dn={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");var s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});var s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,f=n.scale||4;return{width:i,scale:i?4:f,margin:s,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},t.getImageWidth=function(n,s){var i=t.getScale(n,s);return Math.floor((n+s.margin*2)*i)},t.qrToImageData=function(n,s,i){for(var f=s.modules.size,h=s.modules.data,_=t.getScale(f,i),x=Math.floor((f+i.margin*2)*_),b=i.margin*_,T=[i.color.light,i.color.dark],O=0;O<x;O++)for(var U=0;U<x;U++){var L=(O*x+U)*4,F=i.color.light;if(O>=b&&U>=b&&O<x-b&&U<x-b){var E=Math.floor((O-b)/_),k=Math.floor((U-b)/_);F=T[h[E*f+k]?1:0]}n[L++]=F.r,n[L++]=F.g,n[L++]=F.b,n[L]=F.a}}})(dn);(function(t){var e=dn;function r(s,i,f){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=f,i.width=f,i.style.height=f+"px",i.style.width=f+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,f,h){var _=h,x=f;typeof _>"u"&&(!f||!f.getContext)&&(_=f,f=void 0),f||(x=n()),_=e.getOptions(_);var b=e.getImageWidth(i.modules.size,_),T=x.getContext("2d"),O=T.createImageData(b,b);return e.qrToImageData(O.data,i,_),r(T,x,b),T.putImageData(O,0,0),x},t.renderToDataURL=function(i,f,h){var _=h;typeof _>"u"&&(!f||!f.getContext)&&(_=f,f=void 0),_||(_={});var x=t.render(i,f,_),b=_.type||"image/png",T=_.rendererOpts||{};return x.toDataURL(b,T.quality)}})(Ao);var Bo={},Yl=dn;function ei(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Tr(t,e,r){var n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Gl(t,e,r){for(var n="",s=0,i=!1,f=0,h=0;h<t.length;h++){var _=Math.floor(h%e),x=Math.floor(h/e);!_&&!i&&(i=!0),t[h]?(f++,h>0&&_>0&&t[h-1]||(n+=i?Tr("M",_+r,.5+x+r):Tr("m",s,0),s=0,i=!1),_+1<e&&t[h+1]||(n+=Tr("h",f),f=0)):s++}return n}Bo.render=function(e,r,n){var s=Yl.getOptions(r),i=e.modules.size,f=e.modules.data,h=i+s.margin*2,_=s.color.light.a?"<path "+ei(s.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",x="<path "+ei(s.color.dark,"stroke")+' d="'+Gl(f,i,s.margin)+'"/>',b='viewBox="0 0 '+h+" "+h+'"',T=s.width?'width="'+s.width+'" height="'+s.width+'" ':"",O='<svg xmlns="http://www.w3.org/2000/svg" '+T+b+' shape-rendering="crispEdges">'+_+x+`</svg>
`;return typeof n=="function"&&n(null,O),O};var Ql=Zu,Wr=fo,Oo=Ao,Xl=Bo;function pn(t,e,r,n,s){var i=[].slice.call(arguments,1),f=i.length,h=typeof i[f-1]=="function";if(!h&&!Ql())throw new Error("Callback required as last argument");if(h){if(f<2)throw new Error("Too few arguments provided");f===2?(s=r,r=e,e=n=void 0):f===3&&(e.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=e,e=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(r=e,e=n=void 0):f===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(x,b){try{var T=Wr.create(r,n);x(t(T,e,n))}catch(O){b(O)}})}try{var _=Wr.create(r,n);s(null,t(_,e,n))}catch(x){s(x)}}St.create=Wr.create;St.toCanvas=pn.bind(null,Oo.render);St.toDataURL=pn.bind(null,Oo.renderToDataURL);St.toString=pn.bind(null,function(t,e,r){return Xl.render(t,r)});var Zl=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(s){t.addRange(s)}),e&&e.focus()}},ec=Zl,ti={"text/plain":"Text","text/html":"Url",default:"Text"},tc="Copy to clipboard: #{key}, Enter";function rc(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function nc(t,e){var r,n,s,i,f,h,_=!1;e||(e={}),r=e.debug||!1;try{s=ec(),i=document.createRange(),f=document.getSelection(),h=document.createElement("span"),h.textContent=t,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(b){if(b.stopPropagation(),e.format)if(b.preventDefault(),typeof b.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var T=ti[e.format]||ti.default;window.clipboardData.setData(T,t)}else b.clipboardData.clearData(),b.clipboardData.setData(e.format,t);e.onCopy&&(b.preventDefault(),e.onCopy(b.clipboardData))}),document.body.appendChild(h),i.selectNodeContents(h),f.addRange(i);var x=document.execCommand("copy");if(!x)throw new Error("copy command was unsuccessful");_=!0}catch(b){r&&console.error("unable to copy using execCommand: ",b),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),_=!0}catch(T){r&&console.error("unable to copy using clipboardData: ",T),r&&console.error("falling back to prompt"),n=rc("message"in e?e.message:tc),window.prompt(n,t)}}finally{f&&(typeof f.removeRange=="function"?f.removeRange(i):f.removeAllRanges()),h&&document.body.removeChild(h),s()}return _}var ic=nc,J,wt,gn,No,ri,_n,Lo,ze={},er=[],oc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function We(t,e){for(var r in e)t[r]=e[r];return t}function Uo(t){var e=t.parentNode;e&&e.removeChild(t)}function je(t,e,r){var n,s=arguments,i={};for(n in e)n!=="key"&&n!=="ref"&&(i[n]=e[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(s[n]);if(r!=null&&(i.children=r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)i[n]===void 0&&(i[n]=t.defaultProps[n]);return Ht(t,i,e&&e.key,e&&e.ref,null)}function Ht(t,e,r,n,s){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s};return s==null&&(i.__v=i),J.vnode&&J.vnode(i),i}function Po(){return{}}function kt(t){return t.children}function Fe(t,e){this.props=t,this.context=e}function Mt(t,e){if(e==null)return t.__?Mt(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Mt(t):null}function Fo(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Fo(t)}}function Nt(t){(!t.__d&&(t.__d=!0)&&wt.push(t)&&!gn++||ri!==J.debounceRendering)&&((ri=J.debounceRendering)||No)(sc)}function sc(){for(var t;gn=wt.length;)t=wt.sort(function(e,r){return e.__v.__b-r.__v.__b}),wt=[],t.some(function(e){var r,n,s,i,f,h,_;e.__d&&(h=(f=(r=e).__v).__e,(_=r.__P)&&(n=[],(s=We({},f)).__v=s,i=mn(_,f,s,r.__n,_.ownerSVGElement!==void 0,null,n,h??Mt(f)),Do(n,f),i!=h&&Fo(f)))})}function qo(t,e,r,n,s,i,f,h,_){var x,b,T,O,U,L,F,E=r&&r.__k||er,k=E.length;if(h==ze&&(h=i!=null?i[0]:k?Mt(r,0):null),x=0,e.__k=Je(e.__k,function(A){if(A!=null){if(A.__=e,A.__b=e.__b+1,(T=E[x])===null||T&&A.key==T.key&&A.type===T.type)E[x]=void 0;else for(b=0;b<k;b++){if((T=E[b])&&A.key==T.key&&A.type===T.type){E[b]=void 0;break}T=null}if(O=mn(t,A,T=T||ze,n,s,i,f,h,_),(b=A.ref)&&T.ref!=b&&(F||(F=[]),T.ref&&F.push(T.ref,null,A),F.push(b,A.__c||O,A)),O!=null){var R;if(L==null&&(L=O),A.__d!==void 0)R=A.__d,A.__d=void 0;else if(i==T||O!=h||O.parentNode==null){e:if(h==null||h.parentNode!==t)t.appendChild(O),R=null;else{for(U=h,b=0;(U=U.nextSibling)&&b<k;b+=2)if(U==O)break e;t.insertBefore(O,h),R=h}e.type=="option"&&(t.value="")}h=R!==void 0?R:O.nextSibling,typeof e.type=="function"&&(e.__d=h)}else h&&T.__e==h&&h.parentNode!=t&&(h=Mt(T))}return x++,A}),e.__e=L,i!=null&&typeof e.type!="function")for(x=i.length;x--;)i[x]!=null&&Uo(i[x]);for(x=k;x--;)E[x]!=null&&yt(E[x],E[x]);if(F)for(x=0;x<F.length;x++)Ho(F[x],F[++x],F[++x])}function Je(t,e,r){if(r==null&&(r=[]),t==null||typeof t=="boolean")e&&r.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)Je(t[n],e,r);else r.push(e?e(typeof t=="string"||typeof t=="number"?Ht(null,t,null,null,t):t.__e!=null||t.__c!=null?Ht(t.type,t.props,t.key,null,t.__v):t):t);return r}function ac(t,e,r,n,s){var i;for(i in r)i==="children"||i==="key"||i in e||$t(t,i,null,r[i],n);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===e[i]||$t(t,i,e[i],r[i],n)}function ni(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=typeof r=="number"&&oc.test(e)===!1?r+"px":r??""}function $t(t,e,r,n,s){var i,f,h,_,x;if(s?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(i=t.style,typeof r=="string")i.cssText=r;else{if(typeof n=="string"&&(i.cssText="",n=null),n)for(_ in n)r&&_ in r||ni(i,_,"");if(r)for(x in r)n&&r[x]===n[x]||ni(i,x,r[x])}else e[0]==="o"&&e[1]==="n"?(f=e!==(e=e.replace(/Capture$/,"")),h=e.toLowerCase(),e=(h in t?h:e).slice(2),r?(n||t.addEventListener(e,ii,f),(t.l||(t.l={}))[e]=r):t.removeEventListener(e,ii,f)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!s&&e in t?t[e]=r??"":typeof r!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?r==null||r===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,r))}function ii(t){this.l[t.type](J.event?J.event(t):t)}function mn(t,e,r,n,s,i,f,h,_){var x,b,T,O,U,L,F,E,k,A,R=e.type;if(e.constructor!==void 0)return null;(x=J.__b)&&x(e);try{e:if(typeof R=="function"){if(E=e.props,k=(x=R.contextType)&&n[x.__c],A=x?k?k.props.value:x.__:n,r.__c?F=(b=e.__c=r.__c).__=b.__E:("prototype"in R&&R.prototype.render?e.__c=b=new R(E,A):(e.__c=b=new Fe(E,A),b.constructor=R,b.render=lc),k&&k.sub(b),b.props=E,b.state||(b.state={}),b.context=A,b.__n=n,T=b.__d=!0,b.__h=[]),b.__s==null&&(b.__s=b.state),R.getDerivedStateFromProps!=null&&(b.__s==b.state&&(b.__s=We({},b.__s)),We(b.__s,R.getDerivedStateFromProps(E,b.__s))),O=b.props,U=b.state,T)R.getDerivedStateFromProps==null&&b.componentWillMount!=null&&b.componentWillMount(),b.componentDidMount!=null&&b.__h.push(b.componentDidMount);else{if(R.getDerivedStateFromProps==null&&E!==O&&b.componentWillReceiveProps!=null&&b.componentWillReceiveProps(E,A),!b.__e&&b.shouldComponentUpdate!=null&&b.shouldComponentUpdate(E,b.__s,A)===!1||e.__v===r.__v&&!b.__){for(b.props=E,b.state=b.__s,e.__v!==r.__v&&(b.__d=!1),b.__v=e,e.__e=r.__e,e.__k=r.__k,b.__h.length&&f.push(b),x=0;x<e.__k.length;x++)e.__k[x]&&(e.__k[x].__=e);break e}b.componentWillUpdate!=null&&b.componentWillUpdate(E,b.__s,A),b.componentDidUpdate!=null&&b.__h.push(function(){b.componentDidUpdate(O,U,L)})}b.context=A,b.props=E,b.state=b.__s,(x=J.__r)&&x(e),b.__d=!1,b.__v=e,b.__P=t,x=b.render(b.props,b.state,b.context),e.__k=x!=null&&x.type==kt&&x.key==null?x.props.children:Array.isArray(x)?x:[x],b.getChildContext!=null&&(n=We(We({},n),b.getChildContext())),T||b.getSnapshotBeforeUpdate==null||(L=b.getSnapshotBeforeUpdate(O,U)),qo(t,e,r,n,s,i,f,h,_),b.base=e.__e,b.__h.length&&f.push(b),F&&(b.__E=b.__=null),b.__e=!1}else i==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=uc(r.__e,e,r,n,s,i,f,_);(x=J.diffed)&&x(e)}catch(N){e.__v=null,J.__e(N,e,r)}return e.__e}function Do(t,e){J.__c&&J.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){J.__e(n,r.__v)}})}function uc(t,e,r,n,s,i,f,h){var _,x,b,T,O,U=r.props,L=e.props;if(s=e.type==="svg"||s,i!=null){for(_=0;_<i.length;_++)if((x=i[_])!=null&&((e.type===null?x.nodeType===3:x.localName===e.type)||t==x)){t=x,i[_]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(L);t=s?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,L.is&&{is:L.is}),i=null,h=!1}if(e.type===null)U!==L&&t.data!=L&&(t.data=L);else{if(i!=null&&(i=er.slice.call(t.childNodes)),b=(U=r.props||ze).dangerouslySetInnerHTML,T=L.dangerouslySetInnerHTML,!h){if(U===ze)for(U={},O=0;O<t.attributes.length;O++)U[t.attributes[O].name]=t.attributes[O].value;(T||b)&&(T&&b&&T.__html==b.__html||(t.innerHTML=T&&T.__html||""))}ac(t,L,U,s,h),T?e.__k=[]:(e.__k=e.props.children,qo(t,e,r,n,e.type!=="foreignObject"&&s,i,f,ze,h)),h||("value"in L&&(_=L.value)!==void 0&&_!==t.value&&$t(t,"value",_,U.value,!1),"checked"in L&&(_=L.checked)!==void 0&&_!==t.checked&&$t(t,"checked",_,U.checked,!1))}return t}function Ho(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){J.__e(n,r)}}function yt(t,e,r){var n,s,i;if(J.unmount&&J.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Ho(n,null,e)),r||typeof t.type=="function"||(r=(s=t.__e)!=null),t.__e=t.__d=void 0,(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(f){J.__e(f,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&yt(n[i],e,r);s!=null&&Uo(s)}function lc(t,e,r){return this.constructor(t,r)}function xt(t,e,r){var n,s,i;J.__&&J.__(t,e),s=(n=r===_n)?null:r&&r.__k||e.__k,t=je(kt,null,[t]),i=[],mn(e,(n?e:r||e).__k=t,s||ze,ze,e.ownerSVGElement!==void 0,r&&!n?[r]:s?null:er.slice.call(e.childNodes),i,r||ze,n),Do(i,t)}function $o(t,e){xt(t,e,_n)}function cc(t,e){var r,n;for(n in e=We(We({},t.props),e),arguments.length>2&&(e.children=er.slice.call(arguments,2)),r={},e)n!=="key"&&n!=="ref"&&(r[n]=e[n]);return Ht(t.type,r,e.key||t.key,e.ref||t.ref,null)}function Wo(t){var e={},r={__c:"__cC"+Lo++,__:t,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,i=this;return this.getChildContext||(s=[],this.getChildContext=function(){return e[r.__c]=i,e},this.shouldComponentUpdate=function(f){i.props.value!==f.value&&s.some(function(h){h.context=f.value,Nt(h)})},this.sub=function(f){s.push(f);var h=f.componentWillUnmount;f.componentWillUnmount=function(){s.splice(s.indexOf(f),1),h&&h.call(f)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}J={__e:function(t,e){for(var r,n;e=e.__;)if((r=e.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(t))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(t)),n)return Nt(r.__E=r)}catch(s){t=s}throw t}},Fe.prototype.setState=function(t,e){var r;r=this.__s!==this.state?this.__s:this.__s=We({},this.state),typeof t=="function"&&(t=t(r,this.props)),t&&We(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Nt(this))},Fe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Nt(this))},Fe.prototype.render=kt,wt=[],gn=0,No=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_n=ze,Lo=0;var tt,Le,oi,ht=0,zr=[],si=J.__r,ai=J.diffed,ui=J.__c,li=J.unmount;function gt(t,e){J.__h&&J.__h(Le,t,ht||e),ht=0;var r=Le.__H||(Le.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function vn(t){return ht=1,wn(Go,t)}function wn(t,e,r){var n=gt(tt++,2);return n.__c||(n.__c=Le,n.__=[r?r(e):Go(void 0,e),function(s){var i=t(n.__[0],s);n.__[0]!==i&&(n.__[0]=i,n.__c.setState({}))}]),n.__}function zo(t,e){var r=gt(tt++,3);!J.__s&&bn(r.__H,e)&&(r.__=t,r.__H=e,Le.__H.__h.push(r))}function yn(t,e){var r=gt(tt++,4);!J.__s&&bn(r.__H,e)&&(r.__=t,r.__H=e,Le.__h.push(r))}function jo(t){return ht=5,tr(function(){return{current:t}},[])}function Vo(t,e,r){ht=6,yn(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function tr(t,e){var r=gt(tt++,7);return bn(r.__H,e)?(r.__H=e,r.__h=t,r.__=t()):r.__}function Jo(t,e){return ht=8,tr(function(){return t},e)}function Ko(t){var e=Le.context[t.__c],r=gt(tt++,9);return r.__c=t,e?(r.__==null&&(r.__=!0,e.sub(Le)),e.props.value):t.__}function Yo(t,e){J.useDebugValue&&J.useDebugValue(e?e(t):t)}function hc(t){var e=gt(tt++,10),r=vn();return e.__=t,Le.componentDidCatch||(Le.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function fc(){zr.some(function(t){if(t.__P)try{t.__H.__h.forEach(jr),t.__H.__h.forEach(Vr),t.__H.__h=[]}catch(e){return t.__H.__h=[],J.__e(e,t.__v),!0}}),zr=[]}function jr(t){t.t&&t.t()}function Vr(t){var e=t.__();typeof e=="function"&&(t.t=e)}function bn(t,e){return!t||e.some(function(r,n){return r!==t[n]})}function Go(t,e){return typeof e=="function"?e(t):e}J.__r=function(t){si&&si(t),tt=0,(Le=t.__c).__H&&(Le.__H.__h.forEach(jr),Le.__H.__h.forEach(Vr),Le.__H.__h=[])},J.diffed=function(t){ai&&ai(t);var e=t.__c;if(e){var r=e.__H;r&&r.__h.length&&(zr.push(e)!==1&&oi===J.requestAnimationFrame||((oi=J.requestAnimationFrame)||function(n){var s,i=function(){clearTimeout(f),cancelAnimationFrame(s),setTimeout(n)},f=setTimeout(i,100);typeof window<"u"&&(s=requestAnimationFrame(i))})(fc))}},J.__c=function(t,e){e.some(function(r){try{r.__h.forEach(jr),r.__h=r.__h.filter(function(n){return!n.__||Vr(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],J.__e(n,r.__v)}}),ui&&ui(t,e)},J.unmount=function(t){li&&li(t);var e=t.__c;if(e){var r=e.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){J.__e(n,e.__v)}}};function Mn(t,e){for(var r in e)t[r]=e[r];return t}function Jr(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}var Qo=function(t){var e,r;function n(s){var i;return(i=t.call(this,s)||this).isPureReactComponent=!0,i}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.shouldComponentUpdate=function(s,i){return Jr(this.props,s)||Jr(this.state,i)},n}(Fe);function Xo(t,e){function r(s){var i=this.props.ref,f=i==s.ref;return!f&&i&&(i.call?i(null):i.current=null),e?!e(this.props,s)||!f:Jr(this.props,s)}function n(s){return this.shouldComponentUpdate=r,je(t,Mn({},s))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(t.displayName||t.name)+")",n.t=!0,n}var ci=J.__b;function Zo(t){function e(r){var n=Mn({},r);return delete n.ref,t(n,r.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}J.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),ci&&ci(t)};var hi=function(t,e){return t?Je(t).reduce(function(r,n,s){return r.concat(e(n,s))},[]):null},es={map:hi,forEach:hi,count:function(t){return t?Je(t).length:0},only:function(t){if((t=Je(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:Je},dc=J.__e;function ts(t){return t&&((t=Mn({},t)).__c=null,t.__k=t.__k&&t.__k.map(ts)),t}function Wt(){this.__u=0,this.o=null,this.__b=null}function rs(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function ns(t){var e,r,n;function s(i){if(e||(e=t()).then(function(f){r=f.default||f},function(f){n=f}),n)throw n;if(!r)throw e;return je(r,i)}return s.displayName="Lazy",s.t=!0,s}function rt(){this.i=null,this.l=null}J.__e=function(t,e,r){if(t.then){for(var n,s=e;s=s.__;)if((n=s.__c)&&n.__c)return n.__c(t,e.__c)}dc(t,e,r)},(Wt.prototype=new Fe).__c=function(t,e){var r=this;r.o==null&&(r.o=[]),r.o.push(e);var n=rs(r.__v),s=!1,i=function(){s||(s=!0,n?n(f):f())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){i(),e.__c&&e.__c()};var f=function(){var h;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});h=r.o.pop();)h.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),t.then(i,i)},Wt.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=ts(this.__b),this.__b=null),[je(Fe,null,e.u?null:t.children),e.u&&t.fallback]};var fi=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(rt.prototype=new Fe).u=function(t){var e=this,r=rs(e.__v),n=e.l.get(t);return n[0]++,function(s){var i=function(){e.props.revealOrder?(n.push(s),fi(e,t,n)):s()};r?r(i):i()}},rt.prototype.render=function(t){this.i=null,this.l=new Map;var e=Je(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},rt.prototype.componentDidUpdate=rt.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,r){fi(t,r,e)})};var pc=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(r){return r.children},t}();function gc(t){var e=this,r=t.container,n=je(pc,{context:e.context},t.vnode);return e.s&&e.s!==r&&(e.v.parentNode&&e.s.removeChild(e.v),yt(e.h),e.p=!1),t.vnode?e.p?(r.__k=e.__k,xt(n,r),e.__k=r.__k):(e.v=document.createTextNode(""),$o("",r),r.appendChild(e.v),e.p=!0,e.s=r,xt(n,r,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),yt(e.h)),e.h=n,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),yt(e.h)},null}function is(t,e){return je(gc,{vnode:t,container:e})}var di=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;Fe.prototype.isReactComponent={};var os=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Kr(t,e,r){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return xt(t,e),typeof r=="function"&&r(),t?t.__c:null}function _c(t,e,r){return $o(t,e),typeof r=="function"&&r(),t?t.__c:null}var pi=J.event;function Ar(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(r){this["UNSAFE_"+e]=r}})}J.event=function(t){pi&&(t=pi(t)),t.persist=function(){};var e=!1,r=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),e=!0};var s=t.preventDefault;return t.preventDefault=function(){s.call(t),r=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return r},t.nativeEvent=t};var gi={configurable:!0,get:function(){return this.class}},_i=J.vnode;J.vnode=function(t){t.$$typeof=os;var e=t.type,r=t.props;if(e){if(r.class!=r.className&&(gi.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",gi)),typeof e!="function"){var n,s,i;for(i in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&e==="select"&&(Je(r.children).forEach(function(f){r.value.indexOf(f.props.value)!=-1&&(f.props.selected=!0)}),delete r.value),r)if(n=di.test(i))break;if(n)for(i in s=t.props={},r)s[di.test(i)?i.replace(/[A-Z0-9]/,"-$&").toLowerCase():i]=r[i]}(function(f){var h=t.type,_=t.props;if(_&&typeof h=="string"){var x={};for(var b in _)/^on(Ani|Tra|Tou)/.test(b)&&(_[b.toLowerCase()]=_[b],delete _[b]),x[b.toLowerCase()]=b;if(x.ondoubleclick&&(_.ondblclick=_[x.ondoubleclick],delete _[x.ondoubleclick]),x.onbeforeinput&&(_.onbeforeinput=_[x.onbeforeinput],delete _[x.onbeforeinput]),x.onchange&&(h==="textarea"||h.toLowerCase()==="input"&&!/^fil|che|ra/i.test(_.type))){var T=x.oninput||"oninput";_[T]||(_[T]=_[x.onchange],delete _[x.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(Ar(e.prototype,"componentWillMount"),Ar(e.prototype,"componentWillReceiveProps"),Ar(e.prototype,"componentWillUpdate"),e.m=!0)}_i&&_i(t)};var mc="16.8.0";function ss(t){return je.bind(null,t)}function xn(t){return!!t&&t.$$typeof===os}function as(t){return xn(t)?cc.apply(null,arguments):t}function us(t){return!!t.__k&&(xt(null,t),!0)}function ls(t){return t&&(t.base||t.nodeType===1&&t)||null}var cs=function(t,e){return t(e)};const vc={useState:vn,useReducer:wn,useEffect:zo,useLayoutEffect:yn,useRef:jo,useImperativeHandle:Vo,useMemo:tr,useCallback:Jo,useContext:Ko,useDebugValue:Yo,version:"16.8.0",Children:es,render:Kr,hydrate:Kr,unmountComponentAtNode:us,createPortal:is,createElement:je,createContext:Wo,createFactory:ss,cloneElement:as,createRef:Po,Fragment:kt,isValidElement:xn,findDOMNode:ls,Component:Fe,PureComponent:Qo,memo:Xo,forwardRef:Zo,unstable_batchedUpdates:cs,Suspense:Wt,SuspenseList:rt,lazy:ns},wc=Object.freeze(Object.defineProperty({__proto__:null,Children:es,Component:Fe,Fragment:kt,PureComponent:Qo,Suspense:Wt,SuspenseList:rt,cloneElement:as,createContext:Wo,createElement:je,createFactory:ss,createPortal:is,createRef:Po,default:vc,findDOMNode:ls,forwardRef:Zo,hydrate:_c,isValidElement:xn,lazy:ns,memo:Xo,render:Kr,unmountComponentAtNode:us,unstable_batchedUpdates:cs,useCallback:Jo,useContext:Ko,useDebugValue:Yo,useEffect:zo,useErrorBoundary:hc,useImperativeHandle:Vo,useLayoutEffect:yn,useMemo:tr,useReducer:wn,useRef:jo,useState:vn,version:mc},Symbol.toStringTag,{value:"Module"})),yc=Gr(wc);function hs(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Oe=Xu,fs=hs(St),bc=hs(ic),$=yc;function Mc(t){fs.toString(t,{type:"terminal"}).then(console.log)}var xc=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function Ec(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}var Sc="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",Cc="WalletConnect",kc=300,Rc="rgb(64, 153, 255)",ds="walletconnect-wrapper",mi="walletconnect-style-sheet",ps="walletconnect-qrcode-modal",Ic="walletconnect-qrcode-close",gs="walletconnect-qrcode-text",Tc="walletconnect-connect-button";function Ac(t){return $.createElement("div",{className:"walletconnect-modal__header"},$.createElement("img",{src:Sc,className:"walletconnect-modal__headerLogo"}),$.createElement("p",null,Cc),$.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},$.createElement("div",{id:Ic,className:"walletconnect-modal__close__icon"},$.createElement("div",{className:"walletconnect-modal__close__line1"}),$.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Bc(t){return $.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:Tc+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var Oc="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Nc(t){var e=t.color,r=t.href,n=t.name,s=t.logo,i=t.onClick;return $.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},$.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),$.createElement("div",{className:"walletconnect-modal__base__row__right"},$.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+s+"') "+e,backgroundSize:"100%"}}),$.createElement("img",{src:Oc,className:"walletconnect-modal__base__row__right__caret"})))}function Lc(t){var e=t.color,r=t.href,n=t.name,s=t.logo,i=t.onClick,f=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return $.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},$.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+s+"') "+e,backgroundSize:"100%"}}),$.createElement("div",{style:{fontSize:f},className:"walletconnect-connect__button__text"},n))}var Uc=5,Br=12;function Pc(t){var e=Oe.isAndroid(),r=$.useState(""),n=r[0],s=r[1],i=$.useState(""),f=i[0],h=i[1],_=$.useState(1),x=_[0],b=_[1],T=f?t.links.filter(function(N){return N.name.toLowerCase().includes(f.toLowerCase())}):t.links,O=t.errorMessage,U=f||T.length>Uc,L=Math.ceil(T.length/Br),F=[(x-1)*Br+1,x*Br],E=T.length?T.filter(function(N,H){return H+1>=F[0]&&H+1<=F[1]}):[],k=!e&&L>1,A=void 0;function R(N){s(N.target.value),clearTimeout(A),N.target.value?A=setTimeout(function(){h(N.target.value),b(1)},1e3):(s(""),h(""),b(1))}return $.createElement("div",null,$.createElement("p",{id:gs,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&$.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:R}),$.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":U&&T.length?"__wrap":"")},e?$.createElement(Bc,{name:t.text.connect,color:Rc,href:t.uri,onClick:$.useCallback(function(){Oe.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):E.length?E.map(function(N){var H=N.color,W=N.name,K=N.shortName,Y=N.logo,se=Oe.formatIOSMobile(t.uri,N),M=$.useCallback(function(){Oe.saveMobileLinkInfo({name:W,href:se})},[E]);return U?$.createElement(Lc,{color:H,href:se,name:K||W,logo:Y,onClick:M}):$.createElement(Nc,{color:H,href:se,name:W,logo:Y,onClick:M})}):$.createElement($.Fragment,null,$.createElement("p",null,O.length?t.errorMessage:t.links.length&&!T.length?t.text.no_wallets_found:t.text.loading))),k&&$.createElement("div",{className:"walletconnect-modal__footer"},Array(L).fill(0).map(function(N,H){var W=H+1,K=x===W;return $.createElement("a",{style:{margin:"auto 10px",fontWeight:K?"bold":"normal"},onClick:function(){return b(W)}},W)})))}function Fc(t){var e=!!t.message.trim();return $.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var qc=function(t){try{var e="";return Promise.resolve(fs.toString(t,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(e=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(r){return Promise.reject(r)}};function Dc(t){var e=$.useState(""),r=e[0],n=e[1],s=$.useState(""),i=s[0],f=s[1];$.useEffect(function(){try{return Promise.resolve(qc(t.uri)).then(function(_){f(_)})}catch(_){Promise.reject(_)}},[]);var h=function(){var _=bc(t.uri);_?(n(t.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return $.createElement("div",null,$.createElement("p",{id:gs,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),$.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),$.createElement("div",{className:"walletconnect-modal__footer"},$.createElement("a",{onClick:h},t.text.copy_to_clipboard)),$.createElement(Fc,{message:r}))}function Hc(t){var e=Oe.isAndroid(),r=Oe.isMobile(),n=r?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,s=$.useState(!1),i=s[0],f=s[1],h=$.useState(!1),_=h[0],x=h[1],b=$.useState(!r),T=b[0],O=b[1],U={mobile:r,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},L=$.useState(""),F=L[0],E=L[1],k=$.useState(!1),A=k[0],R=k[1],N=$.useState([]),H=N[0],W=N[1],K=$.useState(""),Y=K[0],se=K[1],M=function(){_||i||n&&!n.length||H.length>0||$.useEffect(function(){var c=function(){try{if(e)return Promise.resolve();f(!0);var d=Ec(function(){var p=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:Oe.getWalletRegistryUrl();return Promise.resolve(fetch(p)).then(function(w){return Promise.resolve(w.json()).then(function(S){var I=S.listings,m=r?"mobile":"desktop",a=Oe.getMobileLinkRegistry(Oe.formatMobileRegistry(I,m),n);f(!1),x(!0),se(a.length?"":t.text.no_supported_wallets),W(a);var v=a.length===1;v&&(E(Oe.formatIOSMobile(t.uri,a[0])),O(!0)),R(v)})})},function(p){f(!1),x(!0),se(t.text.something_went_wrong),console.error(p)});return Promise.resolve(d&&d.then?d.then(function(){}):void 0)}catch(p){return Promise.reject(p)}};c()})};M();var o=r?T:!T;return $.createElement("div",{id:ps,className:"walletconnect-qrcode__base animated fadeIn"},$.createElement("div",{className:"walletconnect-modal__base"},$.createElement(Ac,{onClose:t.onClose}),A&&T?$.createElement("div",{className:"walletconnect-modal__single_wallet"},$.createElement("a",{onClick:function(){return Oe.saveMobileLinkInfo({name:H[0].name,href:F})},href:F,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(A?H[0].name:"")+" ")):e||i||!i&&H.length?$.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(o?" right__selected":"")},$.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?$.createElement($.Fragment,null,$.createElement("a",{onClick:function(){return O(!1),M()}},t.text.mobile),$.createElement("a",{onClick:function(){return O(!0)}},t.text.qrcode)):$.createElement($.Fragment,null,$.createElement("a",{onClick:function(){return O(!0)}},t.text.qrcode),$.createElement("a",{onClick:function(){return O(!1),M()}},t.text.desktop))):null,$.createElement("div",null,T||!e&&!i&&!H.length?$.createElement(Dc,Object.assign({},U)):$.createElement(Pc,Object.assign({},U,{links:H,errorMessage:Y})))))}var $c={choose_preferred_wallet:"Whle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine untersttzten Wallet",no_wallets_found:"keine Wallet gefunden"},Wc={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},zc={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera mvil",scan_qrcode_with_wallet:"Escanea el cdigo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali mal",no_supported_wallets:"Todava no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},jc={choose_preferred_wallet:"Choisissez votre portefeuille prfr",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi!",connect_with:"Connectez-vous  l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv"},Vc={choose_preferred_wallet:"  ",connect_mobile_wallet:"  ",scan_qrcode_with_wallet:"WalletConnect   QR ",connect:"",qrcode:"QR ",mobile:"",desktop:"",copy_to_clipboard:" ",copied_to_clipboard:" !",connect_with:" ",loading:" ...",something_went_wrong:" .",no_supported_wallets:"   ",no_wallets_found:"   "},Jc={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se  carteira mvel",scan_qrcode_with_wallet:"Ler o cdigo QR com uma carteira compatvel com WalletConnect",connect:"Conectar",qrcode:"Cdigo QR",mobile:"Mvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda no h carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},Kc={choose_preferred_wallet:"",connect_mobile_wallet:"",scan_qrcode_with_wallet:" WalletConnect ",connect:"",qrcode:"",mobile:"",desktop:"",copy_to_clipboard:"",copied_to_clipboard:"",connect_with:"",loading:"...",something_went_wrong:"",no_supported_wallets:"",no_wallets_found:""},Yc={choose_preferred_wallet:"       ",connect_mobile_wallet:"     ",scan_qrcode_with_wallet:" QR        WalletConnect  ",connect:"",qrcode:" QR",mobile:"",desktop:"",copy_to_clipboard:"   ",copied_to_clipboard:"    !",connect_with:" ",loading:"...",something_went_wrong:"  ",no_supported_wallets:"        ",no_wallets_found:"    "},vi={de:$c,en:Wc,es:zc,fr:jc,ko:Vc,pt:Jc,zh:Kc,fa:Yc};function Gc(){var t=Oe.getDocumentOrThrow(),e=t.getElementById(mi);e&&t.head.removeChild(e);var r=t.createElement("style");r.setAttribute("id",mi),r.innerText=xc,t.head.appendChild(r)}function Qc(){var t=Oe.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",ds),t.body.appendChild(e),e}function _s(){var t=Oe.getDocumentOrThrow(),e=t.getElementById(ps);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=t.getElementById(ds);r&&t.body.removeChild(r)},kc))}function Xc(t){return function(){_s(),t&&t()}}function Zc(){var t=Oe.getNavigatorOrThrow().language.split("-")[0]||"en";return vi[t]||vi.en}function eh(t,e,r){Gc();var n=Qc();$.render($.createElement(Hc,{text:Zc(),uri:t,onClose:Xc(e),qrcodeModalOptions:r}),n)}function th(){_s()}var ms=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function rh(t,e,r){console.log(t),ms()?Mc(t):eh(t,e,r)}function nh(){ms()||th()}var ih={open:rh,close:nh},oh=ih;const sh=zt(oh);var vs={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(_,x,b){this.fn=_,this.context=x,this.once=b||!1}function i(_,x,b,T,O){if(typeof b!="function")throw new TypeError("The listener must be a function");var U=new s(b,T||_,O),L=r?r+x:x;return _._events[L]?_._events[L].fn?_._events[L]=[_._events[L],U]:_._events[L].push(U):(_._events[L]=U,_._eventsCount++),_}function f(_,x){--_._eventsCount===0?_._events=new n:delete _._events[x]}function h(){this._events=new n,this._eventsCount=0}h.prototype.eventNames=function(){var x=[],b,T;if(this._eventsCount===0)return x;for(T in b=this._events)e.call(b,T)&&x.push(r?T.slice(1):T);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(b)):x},h.prototype.listeners=function(x){var b=r?r+x:x,T=this._events[b];if(!T)return[];if(T.fn)return[T.fn];for(var O=0,U=T.length,L=new Array(U);O<U;O++)L[O]=T[O].fn;return L},h.prototype.listenerCount=function(x){var b=r?r+x:x,T=this._events[b];return T?T.fn?1:T.length:0},h.prototype.emit=function(x,b,T,O,U,L){var F=r?r+x:x;if(!this._events[F])return!1;var E=this._events[F],k=arguments.length,A,R;if(E.fn){switch(E.once&&this.removeListener(x,E.fn,void 0,!0),k){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,b),!0;case 3:return E.fn.call(E.context,b,T),!0;case 4:return E.fn.call(E.context,b,T,O),!0;case 5:return E.fn.call(E.context,b,T,O,U),!0;case 6:return E.fn.call(E.context,b,T,O,U,L),!0}for(R=1,A=new Array(k-1);R<k;R++)A[R-1]=arguments[R];E.fn.apply(E.context,A)}else{var N=E.length,H;for(R=0;R<N;R++)switch(E[R].once&&this.removeListener(x,E[R].fn,void 0,!0),k){case 1:E[R].fn.call(E[R].context);break;case 2:E[R].fn.call(E[R].context,b);break;case 3:E[R].fn.call(E[R].context,b,T);break;case 4:E[R].fn.call(E[R].context,b,T,O);break;default:if(!A)for(H=1,A=new Array(k-1);H<k;H++)A[H-1]=arguments[H];E[R].fn.apply(E[R].context,A)}}return!0},h.prototype.on=function(x,b,T){return i(this,x,b,T,!1)},h.prototype.once=function(x,b,T){return i(this,x,b,T,!0)},h.prototype.removeListener=function(x,b,T,O){var U=r?r+x:x;if(!this._events[U])return this;if(!b)return f(this,U),this;var L=this._events[U];if(L.fn)L.fn===b&&(!O||L.once)&&(!T||L.context===T)&&f(this,U);else{for(var F=0,E=[],k=L.length;F<k;F++)(L[F].fn!==b||O&&!L[F].once||T&&L[F].context!==T)&&E.push(L[F]);E.length?this._events[U]=E.length===1?E[0]:E:f(this,U)}return this},h.prototype.removeAllListeners=function(x){var b;return x?(b=r?r+x:x,this._events[b]&&f(this,b)):(this._events=new n,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=r,h.EventEmitter=h,t.exports=h})(vs);var ah=vs.exports;const uh=zt(ah);var ws={},En={},Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});var lh=function(){function t(e){this.type=e,this.bubbles=!1,this.cancelable=!1,this.loaded=0,this.lengthComputable=!1,this.total=0}return t}();Sn.ProgressEvent=lh;var _t={},rr=Ne&&Ne.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(_t,"__esModule",{value:!0});var ch=function(t){rr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Error);_t.SecurityError=ch;var hh=function(t){rr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Error);_t.InvalidStateError=hh;var fh=function(t){rr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Error);_t.NetworkError=fh;var dh=function(t){rr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Error);_t.SyntaxError=dh;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});var ph=function(){function t(){this.listeners={}}return t.prototype.addEventListener=function(e,r){e=e.toLowerCase(),this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(r.handleEvent||r)},t.prototype.removeEventListener=function(e,r){if(e=e.toLowerCase(),!!this.listeners[e]){var n=this.listeners[e].indexOf(r.handleEvent||r);n<0||this.listeners[e].splice(n,1)}},t.prototype.dispatchEvent=function(e){var r=e.type.toLowerCase();if(e.target=this,this.listeners[r])for(var n=0,s=this.listeners[r];n<s.length;n++){var i=s[n];i.call(this,e)}var f=this["on"+r];return f&&f.call(this,e),!0},t}();Rt.XMLHttpRequestEventTarget=ph;var Cn={},gh=Ne&&Ne.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Cn,"__esModule",{value:!0});var _h=Rt,mh=function(t){gh(e,t);function e(){var r=t.call(this)||this;return r._contentType=null,r._body=null,r._reset(),r}return e.prototype._reset=function(){this._contentType=null,this._body=null},e.prototype._setData=function(r){if(r!=null)if(typeof r=="string")r.length!==0&&(this._contentType="text/plain;charset=UTF-8"),this._body=new Buffer(r,"utf-8");else if(Buffer.isBuffer(r))this._body=r;else if(r instanceof ArrayBuffer){for(var n=new Buffer(r.byteLength),s=new Uint8Array(r),i=0;i<r.byteLength;i++)n[i]=s[i];this._body=n}else if(r.buffer&&r.buffer instanceof ArrayBuffer){for(var n=new Buffer(r.byteLength),f=r.byteOffset,s=new Uint8Array(r.buffer),i=0;i<r.byteLength;i++)n[i]=s[i+f];this._body=n}else throw new Error("Unsupported send() data "+r)},e.prototype._finalizeHeaders=function(r,n){this._contentType&&!n["content-type"]&&(r["Content-Type"]=this._contentType),this._body&&(r["Content-Length"]=this._body.length.toString())},e.prototype._startUpload=function(r){this._body&&r.write(this._body),r.end()},e}(_h.XMLHttpRequestEventTarget);Cn.XMLHttpRequestUpload=mh;var Lt={};(function(){function t(s,i,f,h){return this instanceof t?(this.domain=s||void 0,this.path=i||"/",this.secure=!!f,this.script=!!h,this):new t(s,i,f,h)}t.All=Object.freeze(Object.create(null)),Lt.CookieAccessInfo=t;function e(s,i,f){return s instanceof e?s:this instanceof e?(this.name=null,this.value=null,this.expiration_date=1/0,this.path=String(f||"/"),this.explicit_path=!1,this.domain=i||null,this.explicit_domain=!1,this.secure=!1,this.noscript=!1,s&&this.parse(s,i,f),this):new e(s,i,f)}Lt.Cookie=e,e.prototype.toString=function(){var i=[this.name+"="+this.value];return this.expiration_date!==1/0&&i.push("expires="+new Date(this.expiration_date).toGMTString()),this.domain&&i.push("domain="+this.domain),this.path&&i.push("path="+this.path),this.secure&&i.push("secure"),this.noscript&&i.push("httponly"),i.join("; ")},e.prototype.toValueString=function(){return this.name+"="+this.value};var r=/[:](?=\s*[a-zA-Z0-9_\-]+\s*[=])/g;e.prototype.parse=function(i,f,h){if(this instanceof e){if(i.length>32768){console.warn("Cookie too long for parsing (>32768 characters)");return}var _=i.split(";").filter(function(U){return!!U}),x,b=_[0].match(/([^=]+)=([\s\S]*)/);if(!b){console.warn("Invalid cookie header encountered. Header: '"+i+"'");return}var T=b[1],O=b[2];if(typeof T!="string"||T.length===0||typeof O!="string"){console.warn("Unable to extract values from cookie header. Cookie: '"+i+"'");return}for(this.name=T,this.value=O,x=1;x<_.length;x+=1)switch(b=_[x].match(/([^=]+)(?:=([\s\S]*))?/),T=b[1].trim().toLowerCase(),O=b[2],T){case"httponly":this.noscript=!0;break;case"expires":this.expiration_date=O?Number(Date.parse(O)):1/0;break;case"path":this.path=O?O.trim():"",this.explicit_path=!0;break;case"domain":this.domain=O?O.trim():"",this.explicit_domain=!!this.domain;break;case"secure":this.secure=!0;break}return this.explicit_path||(this.path=h||"/"),this.explicit_domain||(this.domain=f),this}return new e().parse(i,f,h)},e.prototype.matches=function(i){return i===t.All?!0:!(this.noscript&&i.script||this.secure&&!i.secure||!this.collidesWith(i))},e.prototype.collidesWith=function(i){if(this.path&&!i.path||this.domain&&!i.domain||this.path&&i.path.indexOf(this.path)!==0||this.explicit_path&&i.path.indexOf(this.path)!==0)return!1;var f=i.domain&&i.domain.replace(/^[\.]/,""),h=this.domain&&this.domain.replace(/^[\.]/,"");if(h===f)return!0;if(h){if(!this.explicit_domain)return!1;var _=f.indexOf(h);return!(_===-1||_!==f.length-h.length)}return!0};function n(){var s,i,f;return this instanceof n?(s=Object.create(null),this.setCookie=function(_,x,b){var T,O;if(_=new e(_,x,b),T=_.expiration_date<=Date.now(),s[_.name]!==void 0){for(i=s[_.name],O=0;O<i.length;O+=1)if(f=i[O],f.collidesWith(_))return T?(i.splice(O,1),i.length===0&&delete s[_.name],!1):(i[O]=_,_);return T?!1:(i.push(_),_)}return T?!1:(s[_.name]=[_],s[_.name])},this.getCookie=function(_,x){var b,T;if(i=s[_],!!i)for(T=0;T<i.length;T+=1){if(b=i[T],b.expiration_date<=Date.now()){i.length===0&&delete s[b.name];continue}if(b.matches(x))return b}},this.getCookies=function(_){var x=[],b,T;for(b in s)T=this.getCookie(b,_),T&&x.push(T);return x.toString=function(){return x.join(":")},x.toValueString=function(){return x.map(function(U){return U.toValueString()}).join("; ")},x},this):new n}Lt.CookieJar=n,n.prototype.setCookies=function(i,f,h){i=Array.isArray(i)?i:i.split(r);var _=[],x,b;for(i=i.map(function(T){return new e(T,f,h)}),x=0;x<i.length;x+=1)b=i[x],this.setCookie(b,f,h)&&_.push(b);return _}})();var vh=Ne&&Ne.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wh=Ne&&Ne.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};Object.defineProperty(En,"__esModule",{value:!0});var Yr=Et,ys=Et,wi=Et,Or=Et,yi=Sn,Ot=_t,yh=Rt,bi=Cn,Mi=Lt,nr=function(t){vh(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.UNSENT=e.UNSENT,n.OPENED=e.OPENED,n.HEADERS_RECEIVED=e.HEADERS_RECEIVED,n.LOADING=e.LOADING,n.DONE=e.DONE,n.onreadystatechange=null,n.readyState=e.UNSENT,n.response=null,n.responseText="",n.responseType="",n.status=0,n.statusText="",n.timeout=0,n.upload=new bi.XMLHttpRequestUpload,n.responseUrl="",n.withCredentials=!1,n._method=null,n._url=null,n._sync=!1,n._headers={},n._loweredHeaders={},n._mimeOverride=null,n._request=null,n._response=null,n._responseParts=null,n._responseHeaders=null,n._aborting=null,n._error=null,n._loadedBytes=0,n._totalBytes=0,n._lengthComputable=!1,n._restrictedMethods={CONNECT:!0,TRACE:!0,TRACK:!0},n._restrictedHeaders={"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0},n._privateHeaders={"set-cookie":!0,"set-cookie2":!0},n._userAgent="Mozilla/5.0 ("+wi.type()+" "+wi.arch()+") node.js/"+process.versions.node+" v8/"+process.versions.v8,n._anonymous=r.anon||!1,n}return e.prototype.open=function(r,n,s,i,f){if(s===void 0&&(s=!0),r=r.toUpperCase(),this._restrictedMethods[r])throw new e.SecurityError("HTTP method "+r+" is not allowed in XHR");var h=this._parseUrl(n,i,f);this.readyState===e.HEADERS_RECEIVED||(this.readyState,e.LOADING),this._method=r,this._url=h,this._sync=!s,this._headers={},this._loweredHeaders={},this._mimeOverride=null,this._setReadyState(e.OPENED),this._request=null,this._response=null,this.status=0,this.statusText="",this._responseParts=[],this._responseHeaders=null,this._loadedBytes=0,this._totalBytes=0,this._lengthComputable=!1},e.prototype.setRequestHeader=function(r,n){if(this.readyState!==e.OPENED)throw new e.InvalidStateError("XHR readyState must be OPENED");var s=r.toLowerCase();if(this._restrictedHeaders[s]||/^sec-/.test(s)||/^proxy-/.test(s)){console.warn('Refused to set unsafe header "'+r+'"');return}n=n.toString(),this._loweredHeaders[s]!=null?(r=this._loweredHeaders[s],this._headers[r]=this._headers[r]+", "+n):(this._loweredHeaders[s]=r,this._headers[r]=n)},e.prototype.send=function(r){if(this.readyState!==e.OPENED)throw new e.InvalidStateError("XHR readyState must be OPENED");if(this._request)throw new e.InvalidStateError("send() already called");switch(this._url.protocol){case"file:":return this._sendFile(r);case"http:":case"https:":return this._sendHttp(r);default:throw new e.NetworkError("Unsupported protocol "+this._url.protocol)}},e.prototype.abort=function(){this._request!=null&&(this._request.abort(),this._setError(),this._dispatchProgress("abort"),this._dispatchProgress("loadend"))},e.prototype.getResponseHeader=function(r){if(this._responseHeaders==null||r==null)return null;var n=r.toLowerCase();return this._responseHeaders.hasOwnProperty(n)?this._responseHeaders[r.toLowerCase()]:null},e.prototype.getAllResponseHeaders=function(){var r=this;return this._responseHeaders==null?"":Object.keys(this._responseHeaders).map(function(n){return n+": "+r._responseHeaders[n]}).join(`\r
`)},e.prototype.overrideMimeType=function(r){if(this.readyState===e.LOADING||this.readyState===e.DONE)throw new e.InvalidStateError("overrideMimeType() not allowed in LOADING or DONE");this._mimeOverride=r.toLowerCase()},e.prototype.nodejsSet=function(r){if(this.nodejsHttpAgent=r.httpAgent||this.nodejsHttpAgent,this.nodejsHttpsAgent=r.httpsAgent||this.nodejsHttpsAgent,r.hasOwnProperty("baseUrl")){if(r.baseUrl!=null){var n=Or.parse(r.baseUrl,!1,!0);if(!n.protocol)throw new e.SyntaxError("baseUrl must be an absolute URL")}this.nodejsBaseUrl=r.baseUrl}},e.nodejsSet=function(r){e.prototype.nodejsSet(r)},e.prototype._setReadyState=function(r){this.readyState=r,this.dispatchEvent(new yi.ProgressEvent("readystatechange"))},e.prototype._sendFile=function(r){throw new Error("Protocol file: not implemented")},e.prototype._sendHttp=function(r){if(this._sync)throw new Error("Synchronous XHR processing not implemented");r&&(this._method==="GET"||this._method==="HEAD")?(console.warn("Discarding entity body for "+this._method+" requests"),r=null):r=r||"",this.upload._setData(r),this._finalizeHeaders(),this._sendHxxpRequest()},e.prototype._sendHxxpRequest=function(){var r=this;if(this.withCredentials){var n=e.cookieJar.getCookies(Mi.CookieAccessInfo(this._url.hostname,this._url.pathname,this._url.protocol==="https:")).toValueString();this._headers.cookie=this._headers.cookie2=n}var s=this._url.protocol==="http:"?[Yr,this.nodejsHttpAgent]:[ys,this.nodejsHttpsAgent],i=s[0],f=s[1],h=i.request.bind(i),_=h({hostname:this._url.hostname,port:+this._url.port,path:this._url.path,auth:this._url.auth,method:this._method,headers:this._headers,agent:f});this._request=_,this.timeout&&_.setTimeout(this.timeout,function(){return r._onHttpTimeout(_)}),_.on("response",function(x){return r._onHttpResponse(_,x)}),_.on("error",function(x){return r._onHttpRequestError(_,x)}),this.upload._startUpload(_),this._request===_&&this._dispatchProgress("loadstart")},e.prototype._finalizeHeaders=function(){this._headers=wh({},this._headers,{Connection:"keep-alive",Host:this._url.host,"User-Agent":this._userAgent},this._anonymous?{Referer:"about:blank"}:{}),this.upload._finalizeHeaders(this._headers,this._loweredHeaders)},e.prototype._onHttpResponse=function(r,n){var s=this;if(this._request===r){if(this.withCredentials&&(n.headers["set-cookie"]||n.headers["set-cookie2"])&&e.cookieJar.setCookies(n.headers["set-cookie"]||n.headers["set-cookie2"]),[301,302,303,307,308].indexOf(n.statusCode)>=0){this._url=this._parseUrl(n.headers.location),this._method="GET",this._loweredHeaders["content-type"]&&(delete this._headers[this._loweredHeaders["content-type"]],delete this._loweredHeaders["content-type"]),this._headers["Content-Type"]!=null&&delete this._headers["Content-Type"],delete this._headers["Content-Length"],this.upload._reset(),this._finalizeHeaders(),this._sendHxxpRequest();return}this._response=n,this._response.on("data",function(f){return s._onHttpResponseData(n,f)}),this._response.on("end",function(){return s._onHttpResponseEnd(n)}),this._response.on("close",function(){return s._onHttpResponseClose(n)}),this.responseUrl=this._url.href.split("#")[0],this.status=n.statusCode,this.statusText=Yr.STATUS_CODES[this.status],this._parseResponseHeaders(n);var i=this._responseHeaders["content-length"]||"";this._totalBytes=+i,this._lengthComputable=!!i,this._setReadyState(e.HEADERS_RECEIVED)}},e.prototype._onHttpResponseData=function(r,n){this._response===r&&(this._responseParts.push(new Buffer(n)),this._loadedBytes+=n.length,this.readyState!==e.LOADING&&this._setReadyState(e.LOADING),this._dispatchProgress("progress"))},e.prototype._onHttpResponseEnd=function(r){this._response===r&&(this._parseResponse(),this._request=null,this._response=null,this._setReadyState(e.DONE),this._dispatchProgress("load"),this._dispatchProgress("loadend"))},e.prototype._onHttpResponseClose=function(r){if(this._response===r){var n=this._request;this._setError(),n.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend")}},e.prototype._onHttpTimeout=function(r){this._request===r&&(this._setError(),r.abort(),this._setReadyState(e.DONE),this._dispatchProgress("timeout"),this._dispatchProgress("loadend"))},e.prototype._onHttpRequestError=function(r,n){this._request===r&&(this._setError(),r.abort(),this._setReadyState(e.DONE),this._dispatchProgress("error"),this._dispatchProgress("loadend"))},e.prototype._dispatchProgress=function(r){var n=new e.ProgressEvent(r);n.lengthComputable=this._lengthComputable,n.loaded=this._loadedBytes,n.total=this._totalBytes,this.dispatchEvent(n)},e.prototype._setError=function(){this._request=null,this._response=null,this._responseHeaders=null,this._responseParts=null},e.prototype._parseUrl=function(r,n,s){var i=this.nodejsBaseUrl==null?r:Or.resolve(this.nodejsBaseUrl,r),f=Or.parse(i,!1,!0);f.hash=null;var h=(f.auth||"").split(":"),_=h[0],x=h[1];return(_||x||n||s)&&(f.auth=(n||_||"")+":"+(s||x||"")),f},e.prototype._parseResponseHeaders=function(r){this._responseHeaders={};for(var n in r.headers){var s=n.toLowerCase();this._privateHeaders[s]||(this._responseHeaders[s]=r.headers[n])}this._mimeOverride!=null&&(this._responseHeaders["content-type"]=this._mimeOverride)},e.prototype._parseResponse=function(){var r=Buffer.concat(this._responseParts);switch(this._responseParts=null,this.responseType){case"json":this.responseText=null;try{this.response=JSON.parse(r.toString("utf-8"))}catch{this.response=null}return;case"buffer":this.responseText=null,this.response=r;return;case"arraybuffer":this.responseText=null;for(var n=new ArrayBuffer(r.length),s=new Uint8Array(n),i=0;i<r.length;i++)s[i]=r[i];this.response=n;return;case"text":default:try{this.responseText=r.toString(this._parseResponseEncoding())}catch{this.responseText=r.toString("binary")}this.response=this.responseText}},e.prototype._parseResponseEncoding=function(){return/;\s*charset=(.*)$/.exec(this._responseHeaders["content-type"]||"")[1]||"utf-8"},e.ProgressEvent=yi.ProgressEvent,e.InvalidStateError=Ot.InvalidStateError,e.NetworkError=Ot.NetworkError,e.SecurityError=Ot.SecurityError,e.SyntaxError=Ot.SyntaxError,e.XMLHttpRequestUpload=bi.XMLHttpRequestUpload,e.UNSENT=0,e.OPENED=1,e.HEADERS_RECEIVED=2,e.LOADING=3,e.DONE=4,e.cookieJar=Mi.CookieJar(),e}(yh.XMLHttpRequestEventTarget);En.XMLHttpRequest=nr;nr.prototype.nodejsHttpAgent=Yr.globalAgent;nr.prototype.nodejsHttpsAgent=ys.globalAgent;nr.prototype.nodejsBaseUrl=null;(function(t){function e(n){for(var s in n)t.hasOwnProperty(s)||(t[s]=n[s])}Object.defineProperty(t,"__esModule",{value:!0}),e(En);var r=Rt;t.XMLHttpRequestEventTarget=r.XMLHttpRequestEventTarget})(ws);const bh=Hi("XMLHttpRequest")||ws.XMLHttpRequest;class Mh extends uh{constructor(e){super(),this.url=e}formatError(e,r,n=-1){return{error:{message:r,code:n},id:e.id,jsonrpc:e.jsonrpc}}send(e,r){return new Promise(n=>{if(e.method==="eth_subscribe"){const h=this.formatError(e,"Subscriptions are not supported by this HTTP endpoint");return this.emit("error",h),n(h)}const s=new bh;let i=!1;const f=(h,_)=>{if(!i)if(s.abort(),i=!0,r)r(h,_);else{const{id:x,jsonrpc:b}=e,T=h?{id:x,jsonrpc:b,error:{message:h.message,code:h.code}}:{id:x,jsonrpc:b,result:_};this.emit("payload",T),n(T)}};s.open("POST",this.url,!0),s.setRequestHeader("Content-Type","application/json"),s.timeout=60*1e3,s.onerror=f,s.ontimeout=f,s.onreadystatechange=()=>{if(s.readyState===4)try{const h=JSON.parse(s.responseText);f(h.error,h.result)}catch(h){f(h)}},s.send(JSON.stringify(e))})}}const xh=require("web3-provider-engine"),Eh=require("web3-provider-engine/subproviders/cache"),Sh=require("web3-provider-engine/subproviders/fixture"),Ch=require("web3-provider-engine/subproviders/filters"),kh=require("web3-provider-engine/subproviders/hooked-wallet"),Rh=require("web3-provider-engine/subproviders/nonce-tracker"),Ih=require("web3-provider-engine/subproviders/subscriptions");class Bh extends xh{constructor(e){if(super({pollingInterval:e.pollingInterval||8e3}),this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModal=sh,this.qrcodeModalOptions=void 0,this.rpc=null,this.infuraId="",this.http=null,this.isConnecting=!1,this.connected=!1,this.connectCallbacks=[],this.accounts=[],this.chainId=1,this.rpcUrl="",this.enable=async()=>{const r=await this.getWalletConnector();if(r)return this.start(),this.subscribeWalletConnector(),r.accounts;throw new Error("Failed to connect to WalleConnect")},this.request=async r=>this.send(r),this.send=async(r,n)=>{var s;if(typeof r=="string"){const i=r;let f=n;return i==="personal_sign"&&(f=Ft(f)),this.sendAsyncPromise(i,f)}if(r=Object.assign({id:Ur(),jsonrpc:"2.0"},r),r.method==="personal_sign"&&(r.params=Ft(r.params)),n){this.sendAsync(r,n);return}if(r.method==="eth_signTypedData_v4"&&((s=this.walletMeta)===null||s===void 0?void 0:s.name)==="MetaMask"){const{result:i}=await this.handleOtherRequests(r);return i}else return this.sendAsyncPromise(r.method,r.params)},this.onConnect=r=>{this.connectCallbacks.push(r)},this.triggerConnect=r=>{this.connectCallbacks&&this.connectCallbacks.length&&this.connectCallbacks.forEach(n=>n(r))},this.bridge=e.connector?e.connector.bridge:e.bridge||"https://bridge.walletconnect.org",this.qrcode=typeof e.qrcode>"u"||e.qrcode!==!1,this.qrcodeModal=e.qrcodeModal||this.qrcodeModal,this.qrcodeModalOptions=e.qrcodeModalOptions,this.wc=e.connector||new Qu({bridge:this.bridge,qrcodeModal:this.qrcode?this.qrcodeModal:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta}),this.rpc=e.rpc||null,!this.rpc&&(!e.infuraId||typeof e.infuraId!="string"||!e.infuraId.trim()))throw new Error("Missing one of the required parameters: rpc or infuraId");this.infuraId=e.infuraId||"",this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.initialize()}get isWalletConnect(){return!0}get connector(){return this.wc}get walletMeta(){return this.wc.peerMeta}async disconnect(){this.close()}async close(){await(await this.getWalletConnector({disableSessionCreation:!0})).killSession(),await this.onDisconnect()}async handleRequest(e){try{let r,n=null;const s=await this.getWalletConnector();switch(e.method){case"wc_killSession":await this.close(),n=null;break;case"eth_accounts":n=s.accounts;break;case"eth_coinbase":n=s.accounts[0];break;case"eth_chainId":n=s.chainId;break;case"net_version":n=s.chainId;break;case"eth_uninstallFilter":this.sendAsync(e,i=>i),n=!0;break;default:r=await this.handleOtherRequests(e)}return r||this.formatResponse(e,n)}catch(r){throw this.emit("error",r),r}}async handleOtherRequests(e){if(!tn.includes(e.method)&&e.method.startsWith("eth_"))return this.handleReadRequests(e);const n=await(await this.getWalletConnector()).sendCustomRequest(e);return this.formatResponse(e,n)}async handleReadRequests(e){if(!this.http){const r=new Error("HTTP Connection not available");throw this.emit("error",r),r}return this.http.send(e)}formatResponse(e,r){return{id:e.id,jsonrpc:e.jsonrpc,result:r}}getWalletConnector(e={}){const{disableSessionCreation:r=!1}=e;return new Promise((n,s)=>{const i=this.wc;this.isConnecting?this.onConnect(f=>n(f)):!i.connected&&!r?(this.isConnecting=!0,i.on("modal_closed",()=>{s(new Error("User closed modal"))}),i.createSession({chainId:this.chainId}).then(()=>{i.on("connect",(f,h)=>{if(f)return this.isConnecting=!1,s(f);this.isConnecting=!1,this.connected=!0,h&&this.updateState(h.params[0]),this.emit("connect"),this.triggerConnect(i),n(i)})}).catch(f=>{this.isConnecting=!1,s(f)})):(this.connected||(this.connected=!0,this.updateState(i.session)),n(i))})}async subscribeWalletConnector(){const e=await this.getWalletConnector();e.on("disconnect",r=>{if(r){this.emit("error",r);return}this.onDisconnect()}),e.on("session_update",(r,n)=>{if(r){this.emit("error",r);return}this.updateState(n.params[0])})}async onDisconnect(){await this.stop(),this.emit("close",1e3,"Connection closed"),this.emit("disconnect",1e3,"Connection disconnected"),this.connected=!1}async updateState(e){const{accounts:r,chainId:n,networkId:s,rpcUrl:i}=e;(!this.accounts||r&&this.accounts!==r)&&(this.accounts=r,this.emit("accountsChanged",r)),(!this.chainId||n&&this.chainId!==n)&&(this.chainId=n,this.emit("chainChanged",n)),(!this.networkId||s&&this.networkId!==s)&&(this.networkId=s,this.emit("networkChanged",s)),this.updateRpcUrl(this.chainId,i||"")}updateRpcUrl(e,r=""){const n={infuraId:this.infuraId,custom:this.rpc||void 0};r=r||ja(e,n),r?(this.rpcUrl=r,this.updateHttpConnection()):this.emit("error",new Error(`No RPC Url available for chainId: ${e}`))}updateHttpConnection(){this.rpcUrl&&(this.http=new Mh(this.rpcUrl),this.http.on("payload",e=>this.emit("payload",e)),this.http.on("error",e=>this.emit("error",e)))}sendAsyncPromise(e,r){return new Promise((n,s)=>{this.sendAsync({id:Ur(),jsonrpc:"2.0",method:e,params:r||[]},(i,f)=>{if(i){s(i);return}n(f.result)})})}initialize(){this.updateRpcUrl(this.chainId),this.addProvider(new Sh({eth_hashrate:"0x00",eth_mining:!1,eth_syncing:!0,net_listening:!0,web3_clientVersion:"WalletConnect/v1.x.x/javascript"})),this.addProvider(new Eh),this.addProvider(new Ih),this.addProvider(new Ch),this.addProvider(new Rh),this.addProvider(new kh(this.configWallet())),this.addProvider({handleRequest:async(e,r,n)=>{try{const{error:s,result:i}=await this.handleRequest(e);n(s,i)}catch(s){n(s)}},setEngine:e=>e})}configWallet(){return{getAccounts:async e=>{try{const n=(await this.getWalletConnector()).accounts;n&&n.length?e(null,n):e(new Error("Failed to get accounts"))}catch(r){e(r)}},processMessage:async(e,r)=>{try{const s=await(await this.getWalletConnector()).signMessage([e.from,e.data]);r(null,s)}catch(n){r(n)}},processPersonalMessage:async(e,r)=>{try{const s=await(await this.getWalletConnector()).signPersonalMessage([e.data,e.from]);r(null,s)}catch(n){r(n)}},processSignTransaction:async(e,r)=>{try{const s=await(await this.getWalletConnector()).signTransaction(e);r(null,s)}catch(n){r(n)}},processTransaction:async(e,r)=>{try{const s=await(await this.getWalletConnector()).sendTransaction(e);r(null,s)}catch(n){r(n)}},processTypedMessage:async(e,r)=>{try{const s=await(await this.getWalletConnector()).signTypedData([e.from,e.data]);r(null,s)}catch(n){r(n)}}}}}export{Bh as default};
