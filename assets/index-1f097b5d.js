import{w as ht,c as mt,g as pt,d as vt,u as $t,e as nt,o as yt,f as w,h as U,j as Z,k as z,l as v,m as $,F as at,n as it,p as ut,q as k,t as W,v as lt,x as S,y as _t}from"./index-e36c2735.js";import{s as Mt,a as dt,c as ct}from"./function-call-d4f879b3.js";ht(Mt);var ft={exports:{}};(function(rt,F){(function(L,V){rt.exports=V()})(mt,function(){var L=1e3,V=6e4,q=36e5,m="millisecond",T="second",C="minute",x="hour",l="day",g="week",y="month",P="quarter",D="year",Y="date",G="Invalid Date",X=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,tt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var n=["th","st","nd","rd"],t=a%100;return"["+a+(n[(t-20)%10]||n[t]||n[0])+"]"}},B=function(a,n,t){var s=String(a);return!s||s.length>=n?a:""+Array(n+1-s.length).join(t)+a},f={s:B,z:function(a){var n=-a.utcOffset(),t=Math.abs(n),s=Math.floor(t/60),e=t%60;return(n<=0?"+":"-")+B(s,2,"0")+":"+B(e,2,"0")},m:function a(n,t){if(n.date()<t.date())return-a(t,n);var s=12*(t.year()-n.year())+(t.month()-n.month()),e=n.clone().add(s,y),o=t-e<0,r=n.clone().add(s+(o?-1:1),y);return+(-(s+(t-e)/(o?e-r:r-e))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:y,y:D,w:g,d:l,D:Y,h:x,m:C,s:T,ms:m,Q:P}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},O="en",_={};_[O]=tt;var j=function(a){return a instanceof K},Q=function a(n,t,s){var e;if(!n)return O;if(typeof n=="string"){var o=n.toLowerCase();_[o]&&(e=o),t&&(_[o]=t,e=o);var r=n.split("-");if(!e&&r.length>1)return a(r[0])}else{var i=n.name;_[i]=n,e=i}return!s&&e&&(O=e),e||!s&&O},h=function(a,n){if(j(a))return a.clone();var t=typeof n=="object"?n:{};return t.date=a,t.args=arguments,new K(t)},u=f;u.l=Q,u.i=j,u.w=function(a,n){return h(a,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var K=function(){function a(t){this.$L=Q(t.locale,null,!0),this.parse(t)}var n=a.prototype;return n.parse=function(t){this.$d=function(s){var e=s.date,o=s.utc;if(e===null)return new Date(NaN);if(u.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var r=e.match(X);if(r){var i=r[2]-1||0,c=(r[7]||"0").substring(0,3);return o?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,c)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,c)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return u},n.isValid=function(){return this.$d.toString()!==G},n.isSame=function(t,s){var e=h(t);return this.startOf(s)<=e&&e<=this.endOf(s)},n.isAfter=function(t,s){return h(t)<this.startOf(s)},n.isBefore=function(t,s){return this.endOf(s)<h(t)},n.$g=function(t,s,e){return u.u(t)?this[s]:this.set(e,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,s){var e=this,o=!!u.u(s)||s,r=u.p(t),i=function(I,M){var H=u.w(e.$u?Date.UTC(e.$y,M,I):new Date(e.$y,M,I),e);return o?H:H.endOf(l)},c=function(I,M){return u.w(e.toDate()[I].apply(e.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(M)),e)},d=this.$W,p=this.$M,A=this.$D,b="set"+(this.$u?"UTC":"");switch(r){case D:return o?i(1,0):i(31,11);case y:return o?i(1,p):i(0,p+1);case g:var E=this.$locale().weekStart||0,J=(d<E?d+7:d)-E;return i(o?A-J:A+(6-J),p);case l:case Y:return c(b+"Hours",0);case x:return c(b+"Minutes",1);case C:return c(b+"Seconds",2);case T:return c(b+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,s){var e,o=u.p(t),r="set"+(this.$u?"UTC":""),i=(e={},e[l]=r+"Date",e[Y]=r+"Date",e[y]=r+"Month",e[D]=r+"FullYear",e[x]=r+"Hours",e[C]=r+"Minutes",e[T]=r+"Seconds",e[m]=r+"Milliseconds",e)[o],c=o===l?this.$D+(s-this.$W):s;if(o===y||o===D){var d=this.clone().set(Y,1);d.$d[i](c),d.init(),this.$d=d.set(Y,Math.min(this.$D,d.daysInMonth())).$d}else i&&this.$d[i](c);return this.init(),this},n.set=function(t,s){return this.clone().$set(t,s)},n.get=function(t){return this[u.p(t)]()},n.add=function(t,s){var e,o=this;t=Number(t);var r=u.p(s),i=function(p){var A=h(o);return u.w(A.date(A.date()+Math.round(p*t)),o)};if(r===y)return this.set(y,this.$M+t);if(r===D)return this.set(D,this.$y+t);if(r===l)return i(1);if(r===g)return i(7);var c=(e={},e[C]=V,e[x]=q,e[T]=L,e)[r]||1,d=this.$d.getTime()+t*c;return u.w(d,this)},n.subtract=function(t,s){return this.add(-1*t,s)},n.format=function(t){var s=this,e=this.$locale();if(!this.isValid())return e.invalidDate||G;var o=t||"YYYY-MM-DDTHH:mm:ssZ",r=u.z(this),i=this.$H,c=this.$m,d=this.$M,p=e.weekdays,A=e.months,b=function(M,H,et,R){return M&&(M[H]||M(s,o))||et[H].slice(0,R)},E=function(M){return u.s(i%12||12,M,"0")},J=e.meridiem||function(M,H,et){var R=M<12?"AM":"PM";return et?R.toLowerCase():R},I={YY:String(this.$y).slice(-2),YYYY:this.$y,M:d+1,MM:u.s(d+1,2,"0"),MMM:b(e.monthsShort,d,A,3),MMMM:b(A,d),D:this.$D,DD:u.s(this.$D,2,"0"),d:String(this.$W),dd:b(e.weekdaysMin,this.$W,p,2),ddd:b(e.weekdaysShort,this.$W,p,3),dddd:p[this.$W],H:String(i),HH:u.s(i,2,"0"),h:E(1),hh:E(2),a:J(i,c,!0),A:J(i,c,!1),m:String(c),mm:u.s(c,2,"0"),s:String(this.$s),ss:u.s(this.$s,2,"0"),SSS:u.s(this.$ms,3,"0"),Z:r};return o.replace(N,function(M,H){return H||I[M]||r.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,s,e){var o,r=u.p(s),i=h(t),c=(i.utcOffset()-this.utcOffset())*V,d=this-i,p=u.m(this,i);return p=(o={},o[D]=p/12,o[y]=p,o[P]=p/3,o[g]=(d-c)/6048e5,o[l]=(d-c)/864e5,o[x]=d/q,o[C]=d/V,o[T]=d/L,o)[r]||d,e?p:u.a(p)},n.daysInMonth=function(){return this.endOf(y).$D},n.$locale=function(){return _[this.$L]},n.locale=function(t,s){if(!t)return this.$L;var e=this.clone(),o=Q(t,s,!0);return o&&(e.$L=o),e},n.clone=function(){return u.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},a}(),ot=K.prototype;return h.prototype=ot,[["$ms",m],["$s",T],["$m",C],["$H",x],["$W",l],["$M",y],["$y",D],["$D",Y]].forEach(function(a){ot[a[1]]=function(n){return this.$g(n,a[0],a[1])}}),h.extend=function(a,n){return a.$i||(a(n,K,h),a.$i=!0),h},h.locale=Q,h.isDayjs=j,h.unix=function(a){return h(1e3*a)},h.en=_[O],h.Ls=_,h.p={},h})})(ft);var gt=ft.exports;const st=pt(gt),Dt={key:0,class:"mt-2"},wt=k("div",{class:"text-center text-gray-800 mt-3"},"VIP列表",-1),St={class:"ml-1 text-gray-500"},Vt={class:"text-gray-500 mr-2"},Ct={class:"mb-2 ml-4"},xt={class:"flex mb-8"},kt=vt({__name:"index",setup(rt){const F=$t(),L=nt(["1"]),V=nt(!1),q=()=>{V.value=!0},m=nt({address:"",accountCount:10,dayCount:30,amount:100}),T=async()=>{dt({duration:0,forbidClick:!0,message:"添加用户中"});let x=st().add(m.value.dayCount,"day").unix();await F.addVip(m.value.address,m.value.accountCount,x,m.value.amount),ct(),await C()};yt(async()=>{await C()});async function C(){dt({duration:0,forbidClick:!0,message:"更新数据"}),await F.getVipArray(),ct()}return(x,l)=>{const g=w("van-tag"),y=w("van-col"),P=w("van-row"),D=w("van-collapse-item"),Y=w("van-collapse"),G=w("van-divider"),X=w("van-button"),N=w("van-field"),tt=w("van-cell-group"),B=w("van-dialog");return U(),Z(at,null,[z(F).vipArray.length>0?(U(),Z("div",Dt,[wt,v(Y,{modelValue:L.value,"onUpdate:modelValue":l[0]||(l[0]=f=>L.value=f)},{default:$(()=>[(U(!0),Z(at,null,it(z(F).vipArray,(f,O)=>(U(),lt(D,{key:O,name:O+1},{title:$(()=>[v(g,{round:"",plain:"",type:"primary"},{default:$(()=>[W(S(O+1),1)]),_:2},1024),k("span",St,S(z(_t)(f.address)),1),v(g,{class:"ml-1",type:"success"},{default:$(()=>[W(S(f.accountCount),1)]),_:2},1024)]),value:$(()=>[k("span",null,"有效期："+S(z(st).unix(f.endtimestamp).format("YYYY/MM/DD")),1)]),default:$(()=>[(U(!0),Z(at,null,it(f.logs,(_,j)=>(U(),Z("div",{class:"ml-2",key:j},[v(P,null,{default:$(()=>[v(y,{span:"12"},{default:$(()=>[k("span",Vt,S(j+1),1),k("span",null,S(z(st).unix(_.timestamp).format("MM-DDTHH:mm")),1)]),_:2},1024),v(y,{span:"12"},{default:$(()=>[k("span",null,S(_.ip),1)]),_:2},1024)]),_:2},1024),k("div",Ct,[_.device.vendor?(U(),lt(g,{key:0,plain:"",type:"primary",class:"mr-2"},{default:$(()=>[W(S(_.device.vendor),1)]),_:2},1024)):ut("",!0),v(g,{plain:"",type:"primary",class:"mr-2"},{default:$(()=>[W(S(_.os.name),1)]),_:2},1024),v(g,{plain:"",type:"primary"},{default:$(()=>[W(S(_.browser.name),1)]),_:2},1024)])]))),128))]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])):ut("",!0),v(G),k("div",xt,[v(X,{icon:"plus",type:"primary",onClick:l[1]||(l[1]=f=>q()),class:"m-auto"},{default:$(()=>[W("添加新账号")]),_:1})]),v(B,{width:"80%",show:V.value,"onUpdate:show":l[6]||(l[6]=f=>V.value=f),title:"添加新账号",onConfirm:T,"close-on-click-overlay":""},{default:$(()=>[k("div",null,[v(tt,{inset:""},{default:$(()=>[v(N,{modelValue:m.value.address,"onUpdate:modelValue":l[2]||(l[2]=f=>m.value.address=f),label:"地址",placeholder:"请输入地址"},null,8,["modelValue"]),v(N,{modelValue:m.value.accountCount,"onUpdate:modelValue":l[3]||(l[3]=f=>m.value.accountCount=f),label:"账号数量",placeholder:"请输入账号数量"},null,8,["modelValue"]),v(N,{modelValue:m.value.dayCount,"onUpdate:modelValue":l[4]||(l[4]=f=>m.value.dayCount=f),label:"天数",placeholder:"请输入天数"},null,8,["modelValue"]),v(N,{modelValue:m.value.amount,"onUpdate:modelValue":l[5]||(l[5]=f=>m.value.amount=f),label:"收费(USDC)",placeholder:"请输入收费(USDC)"},null,8,["modelValue"])]),_:1})])]),_:1},8,["show"])],64)}}});export{kt as default};
