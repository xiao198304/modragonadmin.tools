import{d as w,z as B,A as V,B as q,u as A,o as E,f as a,h as s,j as i,k as t,v as _,p as m,q as e,x as N,l,m as f,t as p,F as R,y as S,C as T,D as z,E as D}from"./index-e36c2735.js";import{a as F,c as H}from"./function-call-d4f879b3.js";const M={class:"text-gray-600 body-font"},j={class:"float-left mt-5 ml-5"},L={key:0},P=e("div",{class:"bg-gray-100 rounded flex h-full items-center"},[e("span",{class:"title-font font-medium"},"未登录")],-1),U=[P],W={key:1},G={class:"bg-gray-100 rounded flex h-full items-center"},I={class:"title-font font-medium mr-3"},J={class:"container px-5 py-16 mx-auto"},K={class:"text-center mb-2"},O=e("div",{class:"my-2 font-serif font-semibold text-dark-50 leading-none text-2xl"},[e("span",{class:"mr-2"},"Mobox龙蛋超级后台")],-1),te=w({__name:"index",setup(Q){const{open:h}=z(),{address:c,isActivated:x,signer:X}=B(),{wallet:Y,disconnect:y}=D(),{onActivated:v}=V(),r=q(),o=A(),g=()=>{let n="/home";r.currentRoute.value.query.redirect&&(n=r.currentRoute.value.query.redirect),r.push({path:n})};async function d(){c.value!=""&&(F({duration:0,message:"数据更新"}),await o.login(),H()),o.isadmin==1&&g()}return v(async({address:n})=>{await d()}),E(async()=>{await d()}),(n,Z)=>{const k=a("van-notice-bar"),u=a("van-button"),b=a("van-icon"),C=a("vd-board");return s(),i(R,null,[t(o).error.err_type>0?(s(),_(k,{key:0,"left-icon":"warning-o",text:t(o).error.err_msg},null,8,["text"])):m("",!0),e("section",M,[e("div",j,[t(x)?(s(),i("div",W,[e("div",G,[e("span",I,N(t(S)(t(c))),1),l(u,{round:"",type:"default",size:"small",onClick:t(y),class:"text-gray-500"},{default:f(()=>[p("退出账号")]),_:1},8,["onClick"])])])):(s(),i("div",L,U))]),e("div",J,[e("div",K,[l(b,{class:"iconfont text-5xl",style:{color:"#1989fa"},"class-prefix":"ali-icon",name:"tinytools"}),O]),t(c)==""?(s(),_(u,{key:0,type:"primary",class:"flex mx-auto mt-12 text-lg",onClick:t(h)},{default:f(()=>[p(" 登录账号 ")]),_:1},8,["onClick"])):m("",!0)])]),l(C,{connectors:t(T),dark:""},null,8,["connectors"])],64)}}});export{te as default};
